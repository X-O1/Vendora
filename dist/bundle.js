/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e,t,r,n,s,i,a={621:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});const n={address:"0xA07A7260E214A9D630E6901ae30016F198F9ECe5",abi:[{inputs:[],name:"TRADE_DOES_NOT_EXIST",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"tradeId",type:"bytes32"},{indexed:!0,internalType:"bool",name:"buyerMetTerms",type:"bool"}],name:"Buyer_Met_Terms",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"tradeId",type:"bytes32"},{indexed:!0,internalType:"bool",name:"sellerMetTerms",type:"bool"}],name:"Seller_Met_Terms",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"tradeId",type:"bytes32"},{indexed:!0,internalType:"address",name:"seller",type:"address"}],name:"Terms_Set",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"tradeId",type:"bytes32"},{indexed:!0,internalType:"bool",name:"tradeCanceled",type:"bool"},{indexed:!0,internalType:"address",name:"userThatCanceled",type:"address"}],name:"Trade_Canceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"tradeId",type:"bytes32"},{indexed:!0,internalType:"bool",name:"tradeCompleted",type:"bool"}],name:"Trade_Completed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"tradeId",type:"bytes32"},{indexed:!0,internalType:"bool",name:"termsFinalized",type:"bool"},{indexed:!0,internalType:"address",name:"buyer",type:"address"}],name:"Trade_Started",type:"event"},{inputs:[{internalType:"bytes32",name:"tradeId",type:"bytes32"}],name:"cancelTradeAndWithdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"tradeId",type:"bytes32"}],name:"deleteTermsFromProfile",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"tradeId",type:"bytes32"}],name:"depositAssets",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"erc721Address",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],internalType:"struct Vendora.Erc721Details[]",name:"offeredErc721s",type:"tuple[]"},{components:[{internalType:"address",name:"erc721Address",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],internalType:"struct Vendora.Erc721Details[]",name:"requestedErc721s",type:"tuple[]"},{components:[{internalType:"address",name:"erc1155Address",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct Vendora.Erc1155Details[]",name:"offeredErc1155s",type:"tuple[]"},{components:[{internalType:"address",name:"erc1155Address",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct Vendora.Erc1155Details[]",name:"requestedErc1155s",type:"tuple[]"},{components:[{internalType:"address",name:"erc20Address",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct Vendora.Erc20Details[]",name:"offeredErc20s",type:"tuple[]"},{components:[{internalType:"address",name:"erc20Address",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct Vendora.Erc20Details[]",name:"requestedErc20s",type:"tuple[]"},{internalType:"uint256",name:"offeredEthAmount",type:"uint256"},{internalType:"uint256",name:"requestedEthAmount",type:"uint256"}],name:"setTerms",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"tradeId",type:"bytes32"}],name:"startTrade",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"tradeId",type:"bytes32"}],name:"getTerms",outputs:[{components:[{internalType:"address",name:"erc721Address",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],internalType:"struct Vendora.Erc721Details[]",name:"offeredErc721s",type:"tuple[]"},{components:[{internalType:"address",name:"erc721Address",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],internalType:"struct Vendora.Erc721Details[]",name:"requestedErc721s",type:"tuple[]"},{components:[{internalType:"address",name:"erc1155Address",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct Vendora.Erc1155Details[]",name:"offeredErc1155s",type:"tuple[]"},{components:[{internalType:"address",name:"erc1155Address",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct Vendora.Erc1155Details[]",name:"requestedErc1155s",type:"tuple[]"},{components:[{internalType:"address",name:"erc20Address",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct Vendora.Erc20Details[]",name:"offeredErc20s",type:"tuple[]"},{components:[{internalType:"address",name:"erc20Address",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct Vendora.Erc20Details[]",name:"requestedErc20s",type:"tuple[]"},{internalType:"uint256",name:"offeredEth",type:"uint256"},{internalType:"uint256",name:"requestedEth",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUsersActiveTrades",outputs:[{internalType:"bytes32[]",name:"userTrades",type:"bytes32[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"trades",outputs:[{internalType:"address",name:"seller",type:"address"},{internalType:"address",name:"buyer",type:"address"},{internalType:"uint256",name:"offeredEthAmount",type:"uint256"},{internalType:"uint256",name:"requestedEthAmount",type:"uint256"},{internalType:"bool",name:"termsFinalized",type:"bool"},{internalType:"bool",name:"sellerMetTerms",type:"bool"},{internalType:"bool",name:"buyerMetTerms",type:"bool"},{internalType:"bool",name:"allTermsMet",type:"bool"},{internalType:"bool",name:"tradeCanceled",type:"bool"},{internalType:"bool",name:"tradeCompleted",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"usersActiveTrades",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"}]}},776:(e,t,r)=>{"use strict";r.d(t,{Qe:()=>n,TS:()=>s,jG:()=>i,yw:()=>a});const n=[{logoURI:"./images/erc721-project-images/rareshipLogo.png",name:"Rareships",symbol:"RSHPS",address:"0x32ec5315E50654D330202A5ae24ee9B0f5C1E441"},{logoURI:"./images/erc721-project-images/msamaLogo.png",name:"Moonsama",symbol:"MSAMA",address:"0x0A231Df9e3c7A0D5D0f843246C45F69a629C4bE3"}],s=[{logoURI:"./images/erc1155-project-images/bloodcrystal.png",name:"Blood Crytals",symbol:"BLOOD",address:"0x76ba6821A834E2d30A699312829f8204830CCF5B"}],i=[{logoURI:"./images/erc20-project-images/linktokenimage.png",name:"Chainlink",symbol:"LINK",address:"0x779877A7B0D9E8603169DdbD7836e478b4624789"},{logoURI:"./images/erc20-project-images/samaToken.png",name:"Moonsama",symbol:"SAMA",address:"0xE04F47FF45576249bc5083DFDf987e03d0550113"}],a=[{logoURI:"./images/native-tokens/ether.jpeg",name:"Ethereum",symbol:"ETH",address:"0xe170b5b0d507b3e0ce3d51c043175e0a39f78b9f"}]},181:(e,t,r)=>{"use strict";r.a(e,(async(e,t)=>{try{var n=r(647),s=r(955),i=r(242),a=r(750),o=r(621),c=r(754),l=r(285),u=r(776),h=e([i]);i=(h.then?(await h)():h)[0];const d=()=>void 0!==window.ethereum,f=async()=>{if(d())try{const e=new n.Q(window.ethereum),t=await e.getSigner(),r=new s.CH(o.p.address,o.p.abi,t),a=await r.setTerms((await(0,i.gY)()).offered,(await(0,i.gY)()).requested,(await(0,i.DX)()).offered,(await(0,i.DX)()).requested,(await(0,i.SY)()).offered,(await(0,i.SY)()).requested,(await(0,i.M1)()).offered,(await(0,i.M1)()).requested);await a.wait(),localStorage.clear()}catch(e){console.error("Failed to add trade",e)}},p=async e=>{if(d())try{const t=new n.Q(window.ethereum),r=await t.getSigner(),i=new s.CH(o.p.address,o.p.abi,r),a=await i.startTrade(e);await a.wait()}catch(e){console.error("Error starting trade",e)}},g=async e=>{if(d())try{const t=new n.Q(window.ethereum),r=await t.getSigner(),i=new s.CH(o.p.address,o.p.abi,r),a=await i.cancelTradeAndWithdraw(e);await a.wait()}catch(e){console.error("Error canceling trade",e)}},m=async e=>{if(d())try{const t=new n.Q(window.ethereum),r=await t.getSigner(),i=new s.CH(o.p.address,o.p.abi,r),a=await i.deleteTermsFromProfile(e);await a.wait()}catch(t){console.error("Error deleting trade",e,t)}},y=async(e,t,r,i)=>{if(d()){if(i)try{const r=["function approve(address spender, uint256 amount) external returns (bool)"],a=new n.Q(window.ethereum),o=await a.getSigner(),c=new s.CH(e,r,o),l=await c.approve(t,i);return void await l.wait()}catch(t){console.error("Error approving Erc20 possible non Erc20 token or token does not exist",e,t)}try{const i=["function approve(address to, uint256 tokenId) external"],a=new n.Q(window.ethereum),o=await a.getSigner(),c=new s.CH(e,i,o),l=await c.approve(t,r);return void await l.wait()}catch(t){console.error("Error approving Erc721 possible non Erc721 token or token does not exist",e,t)}try{const r=["function setApprovalForAll(address operator, bool approved) external"],i=new n.Q(window.ethereum),a=await i.getSigner(),o=new s.CH(e,r,a),c=await o.setApprovalForAll(t,!0);return void await c.wait()}catch(t){console.error("Error approving Erc1155 possible non Erc1155 or token does not exist",e,t)}}},w=async e=>{var t,r,n;if(d())try{const s=await C(e);if((null===(t=null==s?void 0:s.offeredErc721s)||void 0===t?void 0:t.length)>0)try{s.offeredErc721s.forEach((async e=>{await y(e.erc721Address,o.p.address,e.tokenId)}))}catch(e){console.error("Error approving offered Erc721s",e)}if((null===(r=null==s?void 0:s.offeredErc20s)||void 0===r?void 0:r.length)>0)try{s.offeredErc20s.forEach((async e=>{await y(e.erc20Address,o.p.address,void 0,e.amount)}))}catch(e){console.error("Error approving offered Erc20s",e)}if((null===(n=null==s?void 0:s.offeredErc1155s)||void 0===n?void 0:n.length)>0)try{s.offeredErc1155s.forEach((async e=>{await y(e.erc1155Address,o.p.address)}))}catch(e){console.error("Error approving offered Erc1155s",e)}}catch(e){console.error("Error approving seller's assets",e)}},A=async e=>{var t,r,n;if(d())try{const s=await C(e);if((null===(t=null==s?void 0:s.requestedErc721s)||void 0===t?void 0:t.length)>0)try{s.requestedErc721s.forEach((async e=>{await y(e.erc721Address,o.p.address,e.tokenId)}))}catch(e){console.error("Error approving requested Erc721s",e)}if((null===(r=null==s?void 0:s.requestedErc20s)||void 0===r?void 0:r.length)>0)try{s.requestedErc20s.forEach((async e=>{await y(e.erc20Address,o.p.address,void 0,e.amount)}))}catch(e){console.error("Error approving requested Erc20s",e)}if((null===(n=null==s?void 0:s.requestedErc1155s)||void 0===n?void 0:n.length)>0)try{s.requestedErc1155s.forEach((async e=>{await y(e.erc1155Address,o.p.address)}))}catch(e){console.error("Error approving requested Erc1155s",e)}}catch(e){console.error("Error approving buyer's assets",e)}},b=async e=>{if(d())try{const t=new n.Q(window.ethereum),r=await t.getSigner(),i=new s.CH(o.p.address,o.p.abi,r),a=await i.depositAssets(e);await a.wait()}catch(e){console.error("Error depositing assets",e)}},v=async()=>{if(d())try{const e=new n.Q(window.ethereum),t=new s.CH(o.p.address,o.p.abi,e);return await t.getUsersActiveTrades(a.X6.value)}catch(e){console.error("Failed to search active trades, not valid address",e)}return[]},E=async()=>{if(d())try{const e=await v();a.db.innerHTML="",null==e||e.forEach((e=>{const t=(0,c.TY)(e,a.db);null==t||t.tradeDiv.addEventListener("click",(()=>{a.RE.style.display="none",x(e,a.F4),(0,c.ZB)(),B(e)}))}))}catch(e){console.error("Error displaying searched trades",e)}},P=async()=>{if(d())try{const e=new n.Q(window.ethereum),t=await e.getSigner(),r=new s.CH(o.p.address,o.p.abi,t);return await r.getUsersActiveTrades(t)}catch(e){console.error("Failed to get active trades",e)}return[]},T=async()=>{if(d())try{const e=await P();a.mI.innerHTML="",null==e||e.forEach((e=>{const t=(0,c.TY)(e,a.mI);null==t||t.tradeDiv.addEventListener("click",(()=>{x(e,a.aN),(0,c.lP)(),B(e)}))}))}catch(e){console.error("Error displaying current user trades",e)}},k=async()=>{if(d())try{await window.ethereum.on("accountsChanged",(async e=>{void 0!==e[0]&&(a.mI.innerHTML="",await T())}))}catch(e){console.error("No wallet connected",e)}},x=(e,t)=>{try{a.aN.innerHTML="",a.F4.innerHTML="";const r=(0,c.jW)(t);null==r||r.enterTradeButton.addEventListener("click",(async()=>await p(e))),null==r||r.approveSellerAssetsButton.addEventListener("click",(async()=>await w(e))),null==r||r.approveBuyerAssetsButton.addEventListener("click",(async()=>await A(e))),null==r||r.depositButton.addEventListener("click",(async()=>await b(e))),null==r||r.cancelButton.addEventListener("click",(async()=>await g(e))),null==r||r.deleteTradeButton.addEventListener("click",(async()=>{await m(e),(0,c.rZ)(),await T()}))}catch(e){console.error("Error creating event listeners for trade buttons",e)}},C=async e=>{try{const t=new n.Q(window.ethereum),r=new s.CH(o.p.address,o.p.abi,t),i=await r.getTerms(e),{offeredErc721s:a,requestedErc721s:c,offeredErc1155s:l,requestedErc1155s:u,offeredErc20s:h,requestedErc20s:d,offeredEth:f,requestedEth:p}=i;return{offeredErc721s:a,requestedErc721s:c,offeredErc1155s:l,requestedErc1155s:u,offeredErc20s:h,requestedErc20s:d,offeredEth:f,requestedEth:p}}catch(e){return void console.error("Error getting terms:",e)}},I=async e=>{if(d())try{const t={offeredErc721s:[],requestedErc721s:[],offeredErc1155s:[],requestedErc1155s:[],offeredErc20s:[],requestedErc20s:[],offeredEth:[],requestedEth:[]},r=await C(e);return(null==r?void 0:r.offeredErc721s)&&r.offeredErc721s.length>0&&r.offeredErc721s.forEach((e=>{u.Qe.forEach((r=>{r.address===e.erc721Address&&t.offeredErc721s.push({address:e.erc721Address,tokenId:e.tokenId,name:r.name,symbol:r.symbol,logoURI:r.logoURI})}))})),(null==r?void 0:r.requestedErc721s)&&r.requestedErc721s.length>0&&(null==r||r.requestedErc721s.forEach((e=>{u.Qe.forEach((r=>{r.address===e.erc721Address&&t.requestedErc721s.push({address:e.erc721Address,tokenId:e.tokenId,logoURI:r.logoURI,name:r.name,symbol:r.symbol})}))}))),(null==r?void 0:r.offeredErc1155s)&&r.offeredErc1155s.length>0&&r.offeredErc1155s.forEach((e=>{u.TS.forEach((r=>{r.address===e.erc1155Address&&t.offeredErc1155s.push({address:e.erc1155Address,tokenId:e.tokenId,amount:e.amount,logoURI:r.logoURI,name:r.name,symbol:r.symbol})}))})),(null==r?void 0:r.requestedErc1155s)&&r.requestedErc1155s.length>0&&(null==r||r.requestedErc1155s.forEach((e=>{u.TS.forEach((r=>{r.address===e.erc1155Address&&t.requestedErc1155s.push({address:e.erc1155Address,tokenId:e.tokenId,amount:e.amount,logoURI:r.logoURI,name:r.name,symbol:r.symbol})}))}))),(null==r?void 0:r.offeredErc20s)&&r.offeredErc20s.length>0&&r.offeredErc20s.forEach((e=>{u.jG.forEach((r=>{r.address===e.erc20Address&&t.offeredErc20s.push({address:e.erc20Address,name:r.name,symbol:r.symbol,logoURI:r.logoURI,amount:e.amount})}))})),(null==r?void 0:r.requestedErc20s)&&r.requestedErc20s.length>0&&(null==r||r.requestedErc20s.forEach((e=>{u.jG.forEach((r=>{r.address===e.erc20Address&&t.requestedErc20s.push({address:e.erc20Address,name:r.name,symbol:r.symbol,logoURI:r.logoURI,amount:e.amount})}))}))),(null==r?void 0:r.offeredEth)&&u.yw.forEach((e=>{t.offeredEth.push({name:e.name,symbol:e.symbol,logoURI:e.logoURI,amount:r.offeredEth})})),(null==r?void 0:r.requestedEth)&&u.yw.forEach((e=>{t.requestedEth.push({name:e.name,symbol:e.symbol,logoURI:e.logoURI,amount:r.requestedEth})})),t}catch(e){console.error("Error getting trade preview",e)}},N=async e=>{try{const t=await I(e);(0,l.a2)(null==t?void 0:t.requestedErc721s),(0,l.AU)(null==t?void 0:t.requestedErc1155s),(0,l.yP)(null==t?void 0:t.requestedErc20s),(0,l.pi)(null==t?void 0:t.requestedEth)}catch(e){console.error("Error displaying requested trade preview",e)}},S=async e=>{try{const t=await I(e);(0,l._N)(null==t?void 0:t.offeredErc721s),(0,l.Bz)(null==t?void 0:t.offeredErc1155s),(0,l.rJ)(null==t?void 0:t.offeredErc20s),(0,l.Kx)(null==t?void 0:t.offeredEth)}catch(e){console.error("Error displaying offered trade preview",e)}},B=e=>{S(e),N(e)};window.addEventListener("load",(async()=>{if(d())try{null===a.eS||void 0===a.eS||a.eS.addEventListener("click",f),a.l7.addEventListener("click",(async()=>await E())),await k(),await T()}catch(e){console.error("Error loading functions on window load")}})),a.GB.addEventListener("click",(async()=>{try{await T()}catch(e){console.error("Error handling trades tab event listener",e)}})),t()}catch(e){t(e)}}))},750:(e,t,r)=>{"use strict";r.d(t,{$E:()=>c,ER:()=>k,F4:()=>g,GB:()=>l,RE:()=>y,SF:()=>A,TH:()=>d,X6:()=>u,Ye:()=>P,aN:()=>a,db:()=>f,e5:()=>v,eS:()=>n,ei:()=>T,kU:()=>b,l7:()=>h,mI:()=>s,o7:()=>w,qr:()=>i,u0:()=>m,uN:()=>o,vD:()=>E,wW:()=>p}),document.querySelector(".asset-popups"),document.querySelector(".choose-erc721"),document.querySelector(".choose-erc1155"),document.querySelector(".choose-erc20"),document.querySelector(".choose-eth"),document.querySelector(".erc721-menu-popup"),document.querySelector(".erc1155-menu-popup"),document.querySelector(".erc20-menu-popup"),document.querySelector(".eth-menu-popup"),document.querySelector(".toggle-fullscreen img"),document.querySelector(".close-fullscreen img"),document.querySelector(".close-menu"),document.querySelector(".token-option"),document.querySelector("option-image img"),document.querySelector(".option-name"),document.querySelector(".option-symbol"),document.querySelector(".option-token-id input"),document.querySelector(".option-amount"),document.querySelector(".term-asset-erc721s"),document.querySelector(".term-asset-erc1155s"),document.querySelector(".term-asset-erc20s"),document.querySelector(".term-asset-eth"),document.querySelector(".term-assets"),document.querySelector(".term-assets h2"),document.querySelector(".select-assets"),document.querySelector(".select-assets h2"),document.querySelector(".token-standard-options"),document.querySelector(".request-link"),document.querySelector(".offer-link"),document.querySelector(".finalize-terms-link"),document.querySelector(".finalize-terms"),document.querySelector(".requested-assets"),document.querySelector(".requested-assets-title"),document.querySelector(".offered-assets"),document.querySelector(".requested-assets-title"),document.querySelector(".requested-erc721s"),document.querySelector(".requested-erc1155s"),document.querySelector(".requested-erc20s"),document.querySelector(".requested-eth"),document.querySelector(".offered-erc721s"),document.querySelector(".offered-erc1155s"),document.querySelector(".offered-erc20s"),document.querySelector(".offered-eth"),document.querySelector(".offered-assets-title"),document.querySelector(".requested-assets-title");const n=document.querySelector(".set-terms"),s=(document.querySelectorAll(".connect"),document.querySelector(".trades")),i=document.querySelector(".finish-trade-container"),a=document.querySelector(".finish-trade"),o=document.querySelector(".active-trades"),c=document.querySelector(".back-to-trades"),l=(document.querySelector(".build-trade-tab"),document.querySelector(".find-trade-tab"),document.querySelector(".trades-tab")),u=(document.querySelector(".trades-box"),document.querySelector(".build-box"),document.querySelector(".find-box"),document.querySelector(".search-bar")),h=document.querySelector(".search-button"),d=(document.querySelector(".found-trades"),document.querySelector(".find-trade-container"),document.querySelector(".active-trades2")),f=document.querySelector(".trades2"),p=document.querySelector(".finish-trade-container2"),g=document.querySelector(".finish-trade2"),m=document.querySelector(".back-to-trades2"),y=document.querySelector(".search-container"),w=(document.querySelector(".requested-assets-preview"),document.querySelector(".requested-assets-title-preview"),document.querySelectorAll(".requested-erc721s-preview")),A=document.querySelectorAll(".requested-erc1155s-preview"),b=document.querySelectorAll(".requested-erc20s-preview"),v=document.querySelectorAll(".requested-eth-preview"),E=(document.querySelectorAll(".offered-assets-preview"),document.querySelector(".requested-assets-title-preview"),document.querySelectorAll(".offered-erc721s-preview")),P=document.querySelectorAll(".offered-erc1155s-preview"),T=document.querySelectorAll(".offered-erc20s-preview"),k=document.querySelectorAll(".offered-eth-preview");document.querySelectorAll(".offered-assets-title-preview"),document.querySelectorAll(".requested-assets-title-preview")},291:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.d(t,{jg:()=>e});const e=async e=>{try{return await JSON.parse(localStorage.getItem(e)||"[]")}catch(e){return console.error("Error getting token details from local storage",e),[]}};await e("requestedErc721s"),await e("requestedErc1155s"),await e("requestedErc20s"),await e("requestedEth"),await e("offeredErc721s"),await e("offeredErc1155s"),await e("offeredErc20s"),await e("offeredEth"),n()}catch(e){n(e)}}),1)},242:(e,t,r)=>{"use strict";r.a(e,(async(e,n)=>{try{r.d(t,{DX:()=>o,M1:()=>l,SY:()=>c,gY:()=>a});var s=r(291),i=e([s]);s=(i.then?(await i)():i)[0];const a=async()=>{try{const e=await(0,s.jg)("requestedErc721s"),t=[];e.forEach((e=>{t.push({erc721Address:e.address,tokenId:e.tokenId})}));const r=await(0,s.jg)("offeredErc721s"),n=[];return r.forEach((e=>{n.push({erc721Address:e.address,tokenId:e.tokenId})})),{requested:t,offered:n}}catch(e){return console.error("Failed to get Erc721 transfer info",e),{requested:[],offered:[]}}},o=async()=>{try{const e=await(0,s.jg)("requestedErc1155s"),t=[];e.forEach((e=>{t.push({erc1155Address:e.address,tokenId:e.tokenId,amount:e.amount})}));const r=await(0,s.jg)("offeredErc1155s"),n=[];return r.forEach((e=>{n.push({erc1155Address:e.address,tokenId:e.tokenId,amount:e.amount})})),{requested:t,offered:n}}catch(e){return console.error("Failed to get Erc1155 transfer info",e),{requested:[],offered:[]}}},c=async()=>{try{const e=await(0,s.jg)("requestedErc20s"),t=[];e.forEach((e=>{t.push({erc20Address:e.address,amount:e.amount})}));const r=await(0,s.jg)("offeredErc20s"),n=[];return r.forEach((e=>{n.push({erc20Address:e.address,amount:e.amount})})),{requested:t,offered:n}}catch(e){return console.error("Failed to get Erc20 transfer info",e),{requested:[],offered:[]}}},l=async()=>{try{const e=await(0,s.jg)("requestedEth"),t=e[0]&&e[0].amount?e[0].amount:0,r=await(0,s.jg)("offeredEth");return{requested:t,offered:r[0]&&r[0].amount?r[0].amount:0}}catch(e){return console.error("Failed to get Eth transfer info",e),{requested:0,offered:0}}};n()}catch(e){n(e)}}))},754:(e,t,r)=>{"use strict";r.d(t,{TY:()=>s,ZB:()=>c,jW:()=>i,lP:()=>o,rZ:()=>a});var n=r(750);const s=(e,t)=>{try{const r=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),i=document.createElement("div"),a=document.createElement("img"),o=document.createElement("img"),c=document.createElement("img"),l=document.createElement("img"),u=document.createElement("div"),h=document.createElement("div");return r.classList.add("trade"),n.classList.add("trade-name"),s.classList.add("trade-preview"),i.classList.add("token-images"),a.classList.add("token-image"),o.classList.add("token-image"),c.classList.add("token-image"),l.classList.add("token-image"),u.classList.add("trade-id"),h.classList.add("id"),t.appendChild(r),r.appendChild(n),r.appendChild(s),s.appendChild(i),i.appendChild(a),i.appendChild(o),i.appendChild(c),i.appendChild(l),r.appendChild(u),u.appendChild(h),n.innerText="Name",a.src="./images/erc721-project-images/rareshipLogo.png",o.src="./images/erc721-project-images/msamaLogo.png",c.src="./images/erc20-project-images/linktokenimage.png",l.src="./images/erc20-project-images/samaToken.png",h.innerText=e,{tradeDiv:r,tradeNameDiv:n,tradePreviewDiv:s,tokenImagesDiv:i,tokenImage1:a,tokenImage2:o,tokenImage3:c,tokenImage4:l,tradeIdDiv:u,id:h}}catch(e){return void console.error("Error creating trade menu elements",e)}},i=e=>{try{const t=document.createElement("button"),r=document.createElement("button"),n=document.createElement("button"),s=document.createElement("button"),i=document.createElement("button"),a=document.createElement("button");return t.classList.add("enter-trade"),r.classList.add("approve-seller-assets"),n.classList.add("approve-buyer-assets"),s.classList.add("deposit"),i.classList.add("cancel-trade"),a.classList.add("delete-trade"),e.appendChild(t),e.appendChild(r),e.appendChild(n),e.appendChild(s),e.appendChild(i),e.appendChild(a),t.innerText="Enter Trade",r.innerText="Approve Seller Assets",n.innerText="Approve Buyer Assets",s.innerText="Deposit",i.innerText="Cancel and Withdraw",a.innerText="Delete Trade",{enterTradeButton:t,approveSellerAssetsButton:r,approveBuyerAssetsButton:n,depositButton:s,cancelButton:i,deleteTradeButton:a}}catch(e){return void console.error("Error creating trade elements",e)}},a=()=>{try{n.uN.style.display="flex",n.qr.style.display="none"}catch(e){console.log("Error displaying active trades page",e)}},o=()=>{try{n.uN.style.display="none",n.qr.style.display="flex"}catch(e){console.log("Error displaying finish trade page",e)}},c=()=>{try{n.TH.style.display="none",n.wW.style.display="flex"}catch(e){console.log("Error displaying finish trade page",e)}};document.addEventListener("DOMContentLoaded",(async()=>{try{null===n.$E||void 0===n.$E||n.$E.addEventListener("click",(()=>{a()})),null===n.u0||void 0===n.u0||n.u0.addEventListener("click",(()=>{(()=>{try{n.RE.style.display="block",n.TH.style.display="flex",n.wW.style.display="none"}catch(e){console.log("Error displaying active trades page",e)}})()}))}catch(e){console.error("Error loading functions on content loaded")}}))},285:(e,t,r)=>{"use strict";r.d(t,{AU:()=>u,Bz:()=>p,Kx:()=>m,_N:()=>f,a2:()=>l,pi:()=>d,rJ:()=>g,yP:()=>h});var n=r(750);const s=e=>{const t=document.createElement("div"),r=document.createElement("div"),n=document.createElement("img"),s=document.createElement("div"),i=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div"),l=document.createElement("div");return t.classList.add("selected-term-asset-preview"),r.classList.add("term-asset-image-preview"),s.classList.add("term-asset-symbol-preview"),i.classList.add("term-asset-tokenId-title-preview"),a.classList.add("term-asset-tokenId-preview"),o.classList.add("term-asset-amount-title-preview"),c.classList.add("term-asset-amount-preview"),l.classList.add("term-asset-address-preview"),r.appendChild(n),t.appendChild(r),t.appendChild(s),t.appendChild(l),e.logoURI&&(n.src=e.logoURI),e.symbol&&(s.innerText=e.symbol),i.innerText="#",o.innerText="Amt:",e.amount&&(c.innerText=e.amount.toString()),e.tokenId&&(a.innerText=e.tokenId.toString()),e.address&&(l.innerText=e.address),{selectedTermAssetDiv:t,termAssetImageDiv:r,termAssetImage:n,termAssetSymbol:s,termAssetTokenIdTitle:i,termAssetTokenId:a,termAssetAmountTitle:o,termAssetAmount:c,termAssetAddress:l}},i=(e,t)=>{const r=s(e);t.appendChild(r.selectedTermAssetDiv),r.selectedTermAssetDiv.appendChild(r.termAssetTokenIdTitle),r.selectedTermAssetDiv.appendChild(r.termAssetTokenId)},a=(e,t)=>{const r=s(e);t.appendChild(r.selectedTermAssetDiv),r.selectedTermAssetDiv.appendChild(r.termAssetTokenIdTitle),r.selectedTermAssetDiv.appendChild(r.termAssetTokenId),r.selectedTermAssetDiv.appendChild(r.termAssetAmountTitle),r.selectedTermAssetDiv.appendChild(r.termAssetAmount)},o=(e,t)=>{const r=s(e);t.appendChild(r.selectedTermAssetDiv),r.selectedTermAssetDiv.appendChild(r.termAssetAmountTitle),r.selectedTermAssetDiv.appendChild(r.termAssetAmount)},c=(e,t)=>{const r=s(e);t.appendChild(r.selectedTermAssetDiv),r.selectedTermAssetDiv.appendChild(r.termAssetAmountTitle),r.selectedTermAssetDiv.appendChild(r.termAssetAmount)},l=e=>{if(n.o7.forEach((e=>e.innerHTML="")),0!==(null==e?void 0:e.length))try{n.o7.forEach((t=>{t.style.display="block",null==e||e.forEach((e=>{i(e,t)}))}))}catch(e){console.error("Failed to create requested erc721 trade preview menu",e)}},u=e=>{if(n.SF.forEach((e=>e.innerHTML="")),0!==(null==e?void 0:e.length))try{n.SF.forEach((t=>{t.style.display="block",null==e||e.forEach((e=>{a(e,t)}))}))}catch(e){console.error("Failed to create requested erc1155 trade preview menu",e)}},h=e=>{if(n.kU.forEach((e=>e.innerHTML="")),0!==(null==e?void 0:e.length))try{n.kU.forEach((t=>{t.style.display="block",null==e||e.forEach((e=>{o(e,t)}))}))}catch(e){console.error("Failed to create requested erc20 trade preview menu",e)}},d=e=>{if(n.e5.forEach((e=>e.innerHTML="")),0!==(null==e?void 0:e.length))try{n.e5.forEach((t=>{t.style.display="block",null==e||e.forEach((e=>{c(e,t)}))}))}catch(e){console.error("Failed to create requested eth trade preview menu",e)}},f=e=>{if(n.vD.forEach((e=>e.innerHTML="")),0!==(null==e?void 0:e.length))try{n.vD.forEach((t=>{t.style.display="block",null==e||e.forEach((e=>{i(e,t)}))}))}catch(e){console.error("Failed to create offered erc721 trade preview menu",e)}},p=e=>{if(n.Ye.forEach((e=>e.innerHTML="")),0!==(null==e?void 0:e.length))try{n.Ye.forEach((t=>{t.style.display="block",null==e||e.forEach((e=>{a(e,t)}))}))}catch(e){console.error("Failed to create offered erc1155 trade preview menu",e)}},g=e=>{if(n.ei.forEach((e=>e.innerHTML="")),0!==(null==e?void 0:e.length))try{n.ei.forEach((t=>{t.style.display="block",null==e||e.forEach((e=>{o(e,t)}))}))}catch(e){console.error("Failed to create offered erc20 trade preview menu",e)}},m=e=>{if(n.ER.forEach((e=>e.innerHTML="")),0!==(null==e?void 0:e.length))try{n.ER.forEach((t=>{t.style.display="block",null==e||e.forEach((e=>{c(e,t)}))}))}catch(e){console.error("Failed to create offered eth trade preview menu",e)}}},856:()=>{},527:(e,t,r)=>{"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function s(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}r.d(t,{ZP:()=>i});const i={number:n,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:s,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){s(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}}},881:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>a});const n=BigInt(2**32-1),s=BigInt(32);function i(e,t=!1){return t?{h:Number(e&n),l:Number(e>>s&n)}:{h:0|Number(e>>s&n),l:0|Number(e&n)}}const a={fromBig:i,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=i(e[s],t);[r[s],n[s]]=[a,o]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<s|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:0|s}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0,add5H:(e,t,r,n,s,i)=>t+r+n+s+i+(e/2**32|0)|0,add5L:(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0)}},979:(e,t,r)=>{"use strict";r.d(t,{kb:()=>o,GL:()=>s,np:()=>i,O0:()=>a,Jq:()=>n,hE:()=>c,K$:()=>l}),"object"==typeof self&&"crypto"in self&&self.crypto;const n=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),s=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),i=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function a(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));class o{clone(){return this._cloneInto()}}function c(e){const t=t=>e().update(a(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function l(e){const t=(t,r)=>e(r).update(a(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}},274:(e,t,r)=>{"use strict";r.d(t,{R:()=>R});var n=r(470),s=r(135),i=r(556),a=r(229),o=r(249);class c extends s.XI{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=o._.dereference(t,"string");try{r=(0,i.K)(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return(0,i.K)((0,a.m9)(e.readValue(),20))}}var l=r(857);class u extends s.XI{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function h(e,t,r){let i=[];if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let e={};i=t.map((t=>{const s=t.localName;return(0,n.hu)(s,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),(0,n.hu)(!e[s],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[s]=!0,r[s]}))}else(0,n.en)(!1,"invalid tuple value","tuple",r);(0,n.en)(t.length===i.length,"types/value length mismatch","tuple",r);let a=new s.QV,o=new s.QV,c=[];t.forEach(((e,t)=>{let r=i[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=a.writeUpdatableValue();c.push((e=>{n(e+t)}))}else e.encode(a,r)})),c.forEach((e=>{e(a.length)}));let l=e.appendWriter(a);return l+=e.appendWriter(o),l}function d(e,t){let r=[],i=[],a=e.subReader(0);return t.forEach((t=>{let s=null;if(t.dynamic){let r=e.readIndex(),i=a.subReader(r);try{s=t.decode(i)}catch(e){if((0,n.VZ)(e,"BUFFER_OVERRUN"))throw e;s=e,s.baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(e){if((0,n.VZ)(e,"BUFFER_OVERRUN"))throw e;s=e,s.baseType=t.name,s.name=t.localName,s.type=t.type}if(null==s)throw new Error("investigate");r.push(s),i.push(t.localName||null)})),s.x4.fromItems(r,i)}class f extends s.XI{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),(0,l.h)(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){const r=o._.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let s=this.length;-1===s&&(s=r.length,e.writeValue(r.length)),(0,n.fG)(r.length,s,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return h(e,i,r)}decode(e){let t=this.length;-1===t&&(t=e.readIndex(),(0,n.hu)(t*s.Bx<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*s.Bx,length:e.dataLength}));let r=[];for(let e=0;e<t;e++)r.push(new u(this.coder));return d(e,r)}}class p extends s.XI{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=o._.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}var g=r(455);class m extends s.XI{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,g.h_)(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class y extends m{constructor(e){super("bytes",e)}decode(e){return(0,g.Dv)(super.decode(e))}}class w extends s.XI{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),(0,l.h)(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,g.h_)(o._.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return(0,g.Dv)(e.readBytes(this.size))}}const A=new Uint8Array([]);class b extends s.XI{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(A)}decode(e){return e.readBytes(0),null}}const v=BigInt(0),E=BigInt(1),P=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class T extends s.XI{size;signed;constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),(0,l.h)(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=(0,a.yT)(o._.dereference(t,this.type)),n=(0,a.sS)(P,8*s.Bx);if(this.signed){let e=(0,a.sS)(n,8*this.size-1);(r>e||r<-(e+E))&&this._throwError("value out-of-bounds",t),r=(0,a.$j)(r,8*s.Bx)}else(r<v||r>(0,a.sS)(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=(0,a.sS)(e.readValue(),8*this.size);return this.signed&&(t=(0,a._Y)(t,8*this.size)),t}}var k=r(155);class x extends m{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,k.Y0)(o._.dereference(t,"string")))}decode(e){return(0,k.ZN)(super.decode(e))}}class C extends s.XI{coders;constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)})),super("tuple","tuple("+n.join(",")+")",t,r),(0,l.h)(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let s=r.localName;s&&1===t[s]&&("length"===s&&(s="_length"),null==e[s]&&(e[s]=e[n]))})),Object.freeze(e)}encode(e,t){const r=o._.dereference(t,"tuple");return h(e,this.coders,r)}decode(e){return d(e,this.coders)}}var I=r(52);const N=new Map;N.set(0,"GENERIC_PANIC"),N.set(1,"ASSERT_FALSE"),N.set(17,"OVERFLOW"),N.set(18,"DIVIDE_BY_ZERO"),N.set(33,"ENUM_RANGE_ERROR"),N.set(34,"BAD_STORAGE_DATA"),N.set(49,"STACK_UNDERFLOW"),N.set(50,"ARRAY_RANGE_ERROR"),N.set(65,"OUT_OF_MEMORY"),N.set(81,"UNINITIALIZED_FUNCTION_CALL");const S=new RegExp(/^bytes([0-9]*)$/),B=new RegExp(/^(u?int)([0-9]*)$/);let O=null;class R{#e(e){if(e.isArray())return new f(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new C(e.components.map((e=>this.#e(e))),e.name);switch(e.baseType){case"address":return new c(e.name);case"bool":return new p(e.name);case"string":return new x(e.name);case"bytes":return new y(e.name);case"":return new b(e.name)}let t=e.type.match(B);if(t){let r=parseInt(t[2]||"256");return(0,n.en)(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new T(r/8,"int"===t[1],e.name)}if(t=e.type.match(S),t){let r=parseInt(t[1]);return(0,n.en)(0!==r&&r<=32,"invalid bytes length","param",e),new w(r,e.name)}(0,n.en)(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map((e=>this.#e(I._R.from(e))));return new C(t,"_").defaultValue()}encode(e,t){(0,n.fG)(t.length,e.length,"types/values length mismatch");const r=e.map((e=>this.#e(I._R.from(e)))),i=new C(r,"_"),a=new s.QV;return i.encode(a,t),a.data}decode(e,t,r){const n=e.map((e=>this.#e(I._R.from(e))));return new C(n,"_").decode(new s.Ej(t,r))}static defaultAbiCoder(){return null==O&&(O=new R),O}static getBuiltinCallException(e,t,r){return function(e,t,r,s){let a="missing revert data",o=null,c=null;if(r){a="execution reverted";const e=(0,g.Pw)(r);if(r=(0,g.Dv)(r),0===e.length)a+=" (no data present; likely require(false) occurred",o="require(false)";else if(e.length%32!=4)a+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,g.Dv)(e.slice(0,4)))try{o=s.decode(["string"],e.slice(4))[0],c={signature:"Error(string)",name:"Error",args:[o]},a+=`: ${JSON.stringify(o)}`}catch(e){a+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,g.Dv)(e.slice(0,4)))try{const t=Number(s.decode(["uint256"],e.slice(4))[0]);c={signature:"Panic(uint256)",name:"Panic",args:[t]},o=`Panic due to ${N.get(t)||"UNKNOWN"}(${t})`,a+=`: ${o}`}catch(e){a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}const l={to:t.to?(0,i.K)(t.to):null,data:t.data||"0x"};return t.from&&(l.from=(0,i.K)(t.from)),(0,n.wf)(a,"CALL_EXCEPTION",{action:e,data:r,reason:o,transaction:l,invocation:null,revert:c})}(e,t,r,R.defaultAbiCoder())}}},135:(e,t,r)=>{"use strict";r.d(t,{Bx:()=>o,Ej:()=>m,QV:()=>g,XI:()=>p,x4:()=>d});var n=r(229),s=r(470),i=r(455),a=r(857);const o=32,c=new Uint8Array(o),l=["then"],u={};function h(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class d extends Array{#t;constructor(...e){const t=e[0];let r=e[1],s=(e[2]||[]).slice(),i=!0;t!==u&&(r=e,s=[],i=!1),super(r.length),r.forEach(((e,t)=>{this[t]=e}));const a=s.reduce(((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e)),new Map);if(this.#t=Object.freeze(r.map(((e,t)=>{const r=s[t];return null!=r&&1===a.get(r)?r:null}))),i)return Object.freeze(this),new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){const r=(0,n.Dx)(t,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const s=e[r];return s instanceof Error&&h(`index ${r}`,s),s}if(l.indexOf(t)>=0)return Reflect.get(e,t,r);const s=e[t];if(s instanceof Function)return function(...t){return s.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}})}toArray(){const e=[];return this.forEach(((t,r)=>{t instanceof Error&&h(`index ${r}`,t),e.push(t)})),e}toObject(){return this.#t.reduce(((e,t,r)=>((0,s.hu)(null!=t,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),t in e||(e[t]=this.getValue(t)),e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);const r=[],n=[];for(let s=e;s<t;s++)r.push(this[s]),n.push(this.#t[s]);return new d(u,r,n)}filter(e,t){const r=[],n=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&h(`index ${s}`,i),e.call(t,i,s,this)&&(r.push(i),n.push(this.#t[s]))}return new d(u,r,n)}map(e,t){const r=[];for(let n=0;n<this.length;n++){const s=this[n];s instanceof Error&&h(`index ${n}`,s),r.push(e.call(t,s,n,this))}return r}getValue(e){const t=this.#t.indexOf(e);if(-1===t)return;const r=this[t];return r instanceof Error&&h(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new d(u,e,t)}}function f(e){let t=(0,n.ot)(e);return(0,s.hu)(t.length<=o,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:o,offset:t.length}),t.length!==o&&(t=(0,i.h_)((0,i.zo)([c.slice(t.length%o),t]))),t}class p{name;type;localName;dynamic;constructor(e,t,r,n){(0,a.h)(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){(0,s.en)(!1,e,this.localName,t)}}class g{#r;#n;constructor(){this.#r=[],this.#n=0}get data(){return(0,i.zo)(this.#r)}get length(){return this.#n}#s(e){return this.#r.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#s((0,i.h_)(e.data))}writeBytes(e){let t=(0,i.h_)(e);const r=t.length%o;return r&&(t=(0,i.h_)((0,i.zo)([t,c.slice(r)]))),this.#s(t)}writeValue(e){return this.#s(f(e))}writeUpdatableValue(){const e=this.#r.length;return this.#r.push(c),this.#n+=o,t=>{this.#r[e]=f(t)}}}class m{allowLoose;#r;#i;constructor(e,t){(0,a.h)(this,{allowLoose:!!t}),this.#r=(0,i.h_)(e),this.#i=0}get data(){return(0,i.Dv)(this.#r)}get dataLength(){return this.#r.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#r)}#a(e,t,r){let n=Math.ceil(t/o)*o;return this.#i+n>this.#r.length&&(this.allowLoose&&r&&this.#i+t<=this.#r.length?n=t:(0,s.hu)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,i.h_)(this.#r),length:this.#r.length,offset:this.#i+n})),this.#r.slice(this.#i,this.#i+n)}subReader(e){return new m(this.#r.slice(this.#i+e),this.allowLoose)}readBytes(e,t){let r=this.#a(0,e,!!t);return this.#i+=r.length,r.slice(0,e)}readValue(){return(0,n.Gh)(this.readBytes(o))}readIndex(){return(0,n.He)(this.readBytes(o))}}},52:(e,t,r)=>{"use strict";r.d(t,{HY:()=>Q,IC:()=>z,QV:()=>J,Xg:()=>Z,YW:()=>Y,_R:()=>j});var n=r(229),s=r(470),i=r(857),a=r(186);function o(e){const t=new Set;return e.forEach((e=>t.add(e))),Object.freeze(t)}const c=o("external public payable".split(" ")),l="constant external internal payable private public pure view",u=o(l.split(" ")),h="constructor error event fallback function receive struct",d=o(h.split(" ")),f="calldata memory storage payable indexed",p=o(f.split(" ")),g=o([h,f,"tuple returns",l].join(" ").split(" ")),m={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},y=new RegExp("^(\\s*)"),w=new RegExp("^([0-9]+)"),A=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),b=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),v=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class E{#i;#o;get offset(){return this.#i}get length(){return this.#o.length-this.#i}constructor(e){this.#i=0,this.#o=e.slice()}clone(){return new E(this.#o)}reset(){this.#i=0}#c(e=0,t=0){return new E(this.#o.slice(e,t).map((t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e})))))}popKeyword(e){const t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=this.#c(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){const e=this.peek();if("OPEN_PAREN"!==e.type)throw new Error("bad start");const t=[];for(;this.#i<e.match-1;){const e=this.peek().linkNext;t.push(this.#c(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#o.length)throw new Error("out-of-bounds");return this.#o[this.#i]}peekKeyword(e){const t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#i++,e}toString(){const e=[];for(let t=this.#i;t<this.#o.length;t++){const r=this.#o[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function P(e){const t=[],r=t=>{const r=a<e.length?JSON.stringify(e[a]):"$EOI";throw new Error(`invalid token ${r} at ${a}: ${t}`)};let s=[],i=[],a=0;for(;a<e.length;){let o=e.substring(a),c=o.match(y);c&&(a+=c[1].length,o=e.substring(a));const l={depth:s.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(l);let u=m[o[0]]||"";if(u){if(l.type=u,l.text=o[0],a++,"OPEN_PAREN"===u)s.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==u)0===s.length&&r("no matching open bracket"),l.match=s.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===u)l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===u)l.type="BRACKET";else if("CLOSE_BRACKET"===u){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){const r=t.pop().text;e=r+e,t[t.length-1].value=(0,n.Dx)(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw new Error("missing opening bracket");t[t.length-1].text+=e}}else if(c=o.match(A),c){if(l.text=c[1],a+=l.text.length,g.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(v)){l.type="TYPE";continue}l.type="ID"}else{if(c=o.match(w),!c)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`);l.text=c[1],l.type="NUMBER",a+=l.text.length}}return new E(t.map((e=>Object.freeze(e))))}function T(e,t){let r=[];for(const n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function k(e,t){if(t.peekKeyword(d)){const r=t.pop().text;if(r!==e)throw new Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function x(e,t){const r=new Set;for(;;){const n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function C(e){let t=x(e,u);return T(t,o("constant payable nonpayable".split(" "))),T(t,o("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function I(e,t){return e.popParams().map((e=>j.from(e,t)))}function N(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return(0,n.yT)(e.pop().text);throw new Error("invalid gas")}return null}function S(e){if(e.length)throw new Error(`unexpected tokens: ${e.toString()}`)}const B=new RegExp(/^(.*)\[([0-9]*)\]$/);function O(e){const t=e.match(v);if((0,s.en)(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){const r=parseInt(t[2]);(0,s.en)(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){const r=parseInt(t[3]);(0,s.en)(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}const R={},D=Symbol.for("_ethers_internal"),L="_ParamTypeInternal",U="_ErrorInternal",F="_EventInternal",M="_ConstructorInternal",G="_FallbackInternal",H="_FunctionInternal",q="_StructInternal";class j{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,a,o,c,l){if((0,s.NK)(e,R,"ParamType"),Object.defineProperty(this,D,{value:L}),o&&(o=Object.freeze(o.slice())),"array"===n){if(null==c||null==l)throw new Error("")}else if(null!=c||null!=l)throw new Error("");if("tuple"===n){if(null==o)throw new Error("")}else if(null!=o)throw new Error("");(0,i.h)(this,{name:t,type:r,baseType:n,indexed:a,components:o,arrayLength:c,arrayChildren:l})}format(e){if(null==e&&(e="sighash"),"json"===e){const t=this.name||"";if(this.isArray()){const e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?("sighash"!==e&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join("full"===e?", ":",")+")"):t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map((e=>r.arrayChildren.walk(e,t)))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map(((e,n)=>r.components[n].walk(e,t)))}return t(this.type,e)}#l(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const s=this.arrayChildren,i=t.slice();return i.forEach(((t,n)=>{s.#l(e,t,r,(e=>{i[n]=e}))})),void n(i)}if(this.isTuple()){const s=this.components;let i;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw new Error("invalid tuple value");i=s.map((e=>{if(!e.name)throw new Error("cannot use object value with unnamed components");if(!(e.name in t))throw new Error(`missing value for component ${e.name}`);return t[e.name]}))}if(i.length!==this.components.length)throw new Error("array is wrong length");return i.forEach(((t,n)=>{s[n].#l(e,t,r,(e=>{i[n]=e}))})),void n(i)}const s=r(this.type,t);s.then?e.push(async function(){n(await s)}()):n(s)}async walkAsync(e,t){const r=[],n=[e];return this.#l(r,e,t,(e=>{n[0]=e})),r.length&&await Promise.all(r),n[0]}static from(e,t){if(j.isParamType(e))return e;if("string"==typeof e)try{return j.from(P(e),t)}catch(t){(0,s.en)(!1,"invalid param type","obj",e)}else if(e instanceof E){let r="",n="",s=null;x(e,o(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",s=e.popParams().map((e=>j.from(e))),r=`tuple(${s.map((e=>e.format())).join(",")})`):(r=O(e.popType("TYPE")),n=r);let i=null,a=null;for(;e.length&&e.peekType("BRACKET");){const t=e.pop();i=new j(R,"",r,n,null,s,a,i),a=t.value,r+=t.text,n="array",s=null}let c=null;if(x(e,p).has("indexed")){if(!t)throw new Error("");c=!0}const l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new j(R,l,r,n,c,s,a,i)}const r=e.name;(0,s.en)(!r||"string"==typeof r&&r.match(b),"invalid name","obj.name",r);let n=e.indexed;null!=n&&((0,s.en)(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,a=i.match(B);if(a){const t=parseInt(a[2]||"-1"),s=j.from({type:a[1],components:e.components});return new j(R,r||"",i,"array",n,null,t,s)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const t=null!=e.components?e.components.map((e=>j.from(e))):null;return new j(R,r||"",i,"tuple",n,t,null,null)}return i=O(e.type),new j(R,r||"",i,i,n,null,null,null)}static isParamType(e){return e&&e[D]===L}}class Q{type;inputs;constructor(e,t,r){(0,s.NK)(e,R,"Fragment"),r=Object.freeze(r.slice()),(0,i.h)(this,{type:t,inputs:r})}static from(e){if("string"==typeof e){try{Q.from(JSON.parse(e))}catch(e){}return Q.from(P(e))}if(e instanceof E)switch(e.peekKeyword(d)){case"constructor":return Z.from(e);case"error":return z.from(e);case"event":return J.from(e);case"fallback":case"receive":return _.from(e);case"function":return Y.from(e);case"struct":return W.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return Z.from(e);case"error":return z.from(e);case"event":return J.from(e);case"fallback":case"receive":return _.from(e);case"function":return Y.from(e);case"struct":return W.from(e)}(0,s.hu)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,s.en)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Z.isFragment(e)}static isError(e){return z.isFragment(e)}static isEvent(e){return J.isFragment(e)}static isFunction(e){return Y.isFragment(e)}static isStruct(e){return W.isFragment(e)}}class V extends Q{name;constructor(e,t,r,n){super(e,t,n),(0,s.en)("string"==typeof r&&r.match(b),"invalid identifier","name",r),n=Object.freeze(n.slice()),(0,i.h)(this,{name:r})}}function K(e,t){return"("+t.map((t=>t.format(e))).join("full"===e?", ":",")+")"}class z extends V{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,D,{value:U})}get selector(){return(0,a.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+K(e,this.inputs)),t.join(" ")}static from(e){if(z.isFragment(e))return e;if("string"==typeof e)return z.from(P(e));if(e instanceof E){const t=k("error",e),r=I(e);return S(e),new z(R,t,r)}return new z(R,e.name,e.inputs?e.inputs.map(j.from):[])}static isFragment(e){return e&&e[D]===U}}class J extends V{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,D,{value:F}),(0,i.h)(this,{anonymous:n})}get topicHash(){return(0,a.id)(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+K(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map((e=>j.from(e))),new J(R,e,t,!1).topicHash}static from(e){if(J.isFragment(e))return e;if("string"==typeof e)try{return J.from(P(e))}catch(t){(0,s.en)(!1,"invalid event fragment","obj",e)}else if(e instanceof E){const t=k("event",e),r=I(e,!0),n=!!x(e,o(["anonymous"])).has("anonymous");return S(e),new J(R,t,r,n)}return new J(R,e.name,e.inputs?e.inputs.map((e=>j.from(e,!0))):[],!!e.anonymous)}static isFragment(e){return e&&e[D]===F}}class Z extends Q{payable;gas;constructor(e,t,r,n,s){super(e,t,r),Object.defineProperty(this,D,{value:M}),(0,i.h)(this,{payable:n,gas:s})}format(e){if((0,s.hu)(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});const t=[`constructor${K(e,this.inputs)}`];return t.push(this.payable?"payable":"nonpayable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(Z.isFragment(e))return e;if("string"==typeof e)try{return Z.from(P(e))}catch(t){(0,s.en)(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof E){x(e,o(["constructor"]));const t=I(e),r=!!x(e,c).has("payable"),n=N(e);return S(e),new Z(R,"constructor",t,r,n)}return new Z(R,"constructor",e.inputs?e.inputs.map(j.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[D]===M}}class _ extends Q{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,D,{value:G}),(0,i.h)(this,{payable:r})}format(e){const t=0===this.inputs.length?"receive":"fallback";if("json"===e){const e=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:e})}return`${t}()${this.payable?" payable":""}`}static from(e){if(_.isFragment(e))return e;if("string"==typeof e)try{return _.from(P(e))}catch(t){(0,s.en)(!1,"invalid fallback fragment","obj",e)}else if(e instanceof E){const t=e.toString(),r=e.peekKeyword(o(["fallback","receive"]));if((0,s.en)(r,"type must be fallback or receive","obj",t),"receive"===e.popKeyword(o(["fallback","receive"]))){const t=I(e);return(0,s.en)(0===t.length,"receive cannot have arguments","obj.inputs",t),x(e,o(["payable"])),S(e),new _(R,[],!0)}let n=I(e);n.length?(0,s.en)(1===n.length&&"bytes"===n[0].type,"invalid fallback inputs","obj.inputs",n.map((e=>e.format("minimal"))).join(", ")):n=[j.from("bytes")];const i=C(e);if((0,s.en)("nonpayable"===i||"payable"===i,"fallback cannot be constants","obj.stateMutability",i),x(e,o(["returns"])).has("returns")){const t=I(e);(0,s.en)(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map((e=>e.format("minimal"))).join(", "))}return S(e),new _(R,n,"payable"===i)}if("receive"===e.type)return new _(R,[],!0);if("fallback"===e.type){const t=[j.from("bytes")],r="payable"===e.stateMutability;return new _(R,t,r)}(0,s.en)(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[D]===G}}class Y extends V{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,s,a){super(e,"function",t,n),Object.defineProperty(this,D,{value:H}),s=Object.freeze(s.slice());const o="view"===r||"pure"===r,c="payable"===r;(0,i.h)(this,{constant:o,gas:a,outputs:s,payable:c,stateMutability:r})}get selector(){return(0,a.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});const t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+K(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(K(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map((e=>j.from(e))),new Y(R,e,"view",t,[],null).selector}static from(e){if(Y.isFragment(e))return e;if("string"==typeof e)try{return Y.from(P(e))}catch(t){(0,s.en)(!1,"invalid function fragment","obj",e)}else if(e instanceof E){const t=k("function",e),r=I(e),n=C(e);let s=[];x(e,o(["returns"])).has("returns")&&(s=I(e));const i=N(e);return S(e),new Y(R,t,n,r,s,i)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new Y(R,e.name,t,e.inputs?e.inputs.map(j.from):[],e.outputs?e.outputs.map(j.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[D]===H}}class W extends V{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,D,{value:q})}format(){throw new Error("@TODO")}static from(e){if("string"==typeof e)try{return W.from(P(e))}catch(t){(0,s.en)(!1,"invalid struct fragment","obj",e)}else if(e instanceof E){const t=k("struct",e),r=I(e);return S(e),new W(R,t,r)}return new W(R,e.name,e.inputs?e.inputs.map(j.from):[])}static isFragment(e){return e&&e[D]===q}}},249:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(470),s=r(857);const i={};function a(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new l(i,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function o(e,t){return new l(i,`bytes${t||""}`,e,{size:t})}const c=Symbol.for("_ethers_typed");class l{type;value;#u;_typedSymbol;constructor(e,t,r,a){null==a&&(a=null),(0,n.NK)(i,e,"Typed"),(0,s.h)(this,{_typedSymbol:c,type:t,value:r}),this.#u=a,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((e=>e.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#u}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#u?-1:!1===this.#u?this.value.length:null}static from(e,t){return new l(i,e,t)}static uint8(e){return a(e,8)}static uint16(e){return a(e,16)}static uint24(e){return a(e,24)}static uint32(e){return a(e,32)}static uint40(e){return a(e,40)}static uint48(e){return a(e,48)}static uint56(e){return a(e,56)}static uint64(e){return a(e,64)}static uint72(e){return a(e,72)}static uint80(e){return a(e,80)}static uint88(e){return a(e,88)}static uint96(e){return a(e,96)}static uint104(e){return a(e,104)}static uint112(e){return a(e,112)}static uint120(e){return a(e,120)}static uint128(e){return a(e,128)}static uint136(e){return a(e,136)}static uint144(e){return a(e,144)}static uint152(e){return a(e,152)}static uint160(e){return a(e,160)}static uint168(e){return a(e,168)}static uint176(e){return a(e,176)}static uint184(e){return a(e,184)}static uint192(e){return a(e,192)}static uint200(e){return a(e,200)}static uint208(e){return a(e,208)}static uint216(e){return a(e,216)}static uint224(e){return a(e,224)}static uint232(e){return a(e,232)}static uint240(e){return a(e,240)}static uint248(e){return a(e,248)}static uint256(e){return a(e,256)}static uint(e){return a(e,256)}static int8(e){return a(e,-8)}static int16(e){return a(e,-16)}static int24(e){return a(e,-24)}static int32(e){return a(e,-32)}static int40(e){return a(e,-40)}static int48(e){return a(e,-48)}static int56(e){return a(e,-56)}static int64(e){return a(e,-64)}static int72(e){return a(e,-72)}static int80(e){return a(e,-80)}static int88(e){return a(e,-88)}static int96(e){return a(e,-96)}static int104(e){return a(e,-104)}static int112(e){return a(e,-112)}static int120(e){return a(e,-120)}static int128(e){return a(e,-128)}static int136(e){return a(e,-136)}static int144(e){return a(e,-144)}static int152(e){return a(e,-152)}static int160(e){return a(e,-160)}static int168(e){return a(e,-168)}static int176(e){return a(e,-176)}static int184(e){return a(e,-184)}static int192(e){return a(e,-192)}static int200(e){return a(e,-200)}static int208(e){return a(e,-208)}static int216(e){return a(e,-216)}static int224(e){return a(e,-224)}static int232(e){return a(e,-232)}static int240(e){return a(e,-240)}static int248(e){return a(e,-248)}static int256(e){return a(e,-256)}static int(e){return a(e,-256)}static bytes1(e){return o(e,1)}static bytes2(e){return o(e,2)}static bytes3(e){return o(e,3)}static bytes4(e){return o(e,4)}static bytes5(e){return o(e,5)}static bytes6(e){return o(e,6)}static bytes7(e){return o(e,7)}static bytes8(e){return o(e,8)}static bytes9(e){return o(e,9)}static bytes10(e){return o(e,10)}static bytes11(e){return o(e,11)}static bytes12(e){return o(e,12)}static bytes13(e){return o(e,13)}static bytes14(e){return o(e,14)}static bytes15(e){return o(e,15)}static bytes16(e){return o(e,16)}static bytes17(e){return o(e,17)}static bytes18(e){return o(e,18)}static bytes19(e){return o(e,19)}static bytes20(e){return o(e,20)}static bytes21(e){return o(e,21)}static bytes22(e){return o(e,22)}static bytes23(e){return o(e,23)}static bytes24(e){return o(e,24)}static bytes25(e){return o(e,25)}static bytes26(e){return o(e,26)}static bytes27(e){return o(e,27)}static bytes28(e){return o(e,28)}static bytes29(e){return o(e,29)}static bytes30(e){return o(e,30)}static bytes31(e){return o(e,31)}static bytes32(e){return o(e,32)}static address(e){return new l(i,"address",e)}static bool(e){return new l(i,"bool",!!e)}static bytes(e){return new l(i,"bytes",e)}static string(e){return new l(i,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new l(i,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===c}static dereference(e,t){if(l.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}},556:(e,t,r)=>{"use strict";r.d(t,{K:()=>d});var n=r(143),s=r(455),i=r(470);const a=BigInt(0),o=BigInt(36);function c(e){const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const i=(0,s.Pw)((0,n.w)(r));for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&i[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const l={};for(let e=0;e<10;e++)l[String(e)]=String(e);for(let e=0;e<26;e++)l[String.fromCharCode(65+e)]=String(10+e);const u=15;const h=function(){const e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function d(e){if((0,i.en)("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=c(e);return(0,i.en)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,i.en)(e.substring(2,4)===function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>l[e])).join("");for(;t.length>=u;){let e=t.substring(0,u);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e),"bad icap checksum","address",e);let t=function(e){e=e.toLowerCase();let t=a;for(let r=0;r<e.length;r++)t=t*o+h[e[r]];return t}(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return c("0x"+t)}(0,i.en)(!1,"invalid address","address",e)}},554:(e,t,r)=>{"use strict";r.d(t,{RC:()=>i,ru:()=>o});var n=r(470),s=r(556);function i(e){return e&&"function"==typeof e.getAddress}async function a(e,t){const r=await t;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||((0,n.hu)("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),(0,n.en)(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),(0,s.K)(r)}function o(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?(0,s.K)(e):((0,n.hu)(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),a(e,t.resolveName(e))):i(e)?a(e,e.getAddress()):e&&"function"==typeof e.then?a(e,e):void(0,n.en)(!1,"unsupported addressable value","target",e)}},955:(e,t,r)=>{"use strict";r.d(t,{CH:()=>_});var n=r(249),s=r(143),i=r(186),a=r(857),o=r(470),c=r(455),l=r(229),u=r(274),h=r(135),d=r(52);class f{fragment;name;signature;topic;args;constructor(e,t,r){const n=e.name,s=e.format();(0,a.h)(this,{fragment:e,name:n,signature:s,topic:t,args:r})}}class p{fragment;name;args;signature;selector;value;constructor(e,t,r,n){const s=e.name,i=e.format();(0,a.h)(this,{fragment:e,name:s,args:r,signature:i,selector:t,value:n})}}class g{fragment;name;args;signature;selector;constructor(e,t,r){const n=e.name,s=e.format();(0,a.h)(this,{fragment:e,name:n,args:r,signature:s,selector:t})}}class m{hash;_isIndexed;static isIndexed(e){return!(!e||!e._isIndexed)}constructor(e){(0,a.h)(this,{hash:e,_isIndexed:!0})}}const y={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},w={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&y[e.toString()]&&(t=y[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class A{fragments;deploy;fallback;receive;#h;#d;#f;#p;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#f=new Map,this.#h=new Map,this.#d=new Map;const r=[];for(const e of t)try{r.push(d.HY.from(e))}catch(e){console.log("EE",e)}(0,a.h)(this,{fragments:Object.freeze(r)});let n=null,s=!1;this.#p=this.getAbiCoder(),this.fragments.forEach(((e,t)=>{let r;switch(e.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void(0,a.h)(this,{deploy:e});case"fallback":return void(0===e.inputs.length?s=!0:((0,o.en)(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),n=e,s=n.payable));case"function":r=this.#f;break;case"event":r=this.#d;break;case"error":r=this.#h;break;default:return}const i=e.format();r.has(i)||r.set(i,e)})),this.deploy||(0,a.h)(this,{deploy:d.Xg.from("constructor()")}),(0,a.h)(this,{fallback:n,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map((e=>e.format(t)))}formatJson(){const e=this.fragments.map((e=>e.format("json")));return JSON.stringify(e.map((e=>JSON.parse(e))))}getAbiCoder(){return u.R.defaultAbiCoder()}#g(e,t,r){if((0,c.A7)(e)){const t=e.toLowerCase();for(const e of this.#f.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const s=[];for(const[t,r]of this.#f)t.split("(")[0]===e&&s.push(r);if(t){const e=t.length>0?t[t.length-1]:null;let r=t.length,i=!0;n._.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=s.length-1;e>=0;e--){const t=s[e].inputs.length;t===r||i&&t===r-1||s.splice(e,1)}for(let e=s.length-1;e>=0;e--){const r=s[e].inputs;for(let i=0;i<t.length;i++)if(n._.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;s.splice(e,1);break}if(t[i].type!==r[i].baseType){s.splice(e,1);break}}}}if(1===s.length&&t&&t.length!==s[0].inputs.length){const e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&s.splice(0,1)}if(0===s.length)return null;if(s.length>1&&r){const t=s.map((e=>JSON.stringify(e.format()))).join(", ");(0,o.en)(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return s[0]}return this.#f.get(d.YW.from(e).format())||null}getFunctionName(e){const t=this.#g(e,null,!1);return(0,o.en)(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#g(e,null,!1)}getFunction(e,t){return this.#g(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#f.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#f.get(n),r)}}#m(e,t,r){if((0,c.A7)(e)){const t=e.toLowerCase();for(const e of this.#d.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){const s=[];for(const[t,r]of this.#d)t.split("(")[0]===e&&s.push(r);if(t){for(let e=s.length-1;e>=0;e--)s[e].inputs.length<t.length&&s.splice(e,1);for(let e=s.length-1;e>=0;e--){const r=s[e].inputs;for(let i=0;i<t.length;i++)if(n._.isTyped(t[i])&&t[i].type!==r[i].baseType){s.splice(e,1);break}}}if(0===s.length)return null;if(s.length>1&&r){const t=s.map((e=>JSON.stringify(e.format()))).join(", ");(0,o.en)(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return s[0]}return this.#d.get(d.QV.from(e).format())||null}getEventName(e){const t=this.#m(e,null,!1);return(0,o.en)(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#m(e,null,!1)}getEvent(e,t){return this.#m(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#d.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#d.get(n),r)}}getError(e,t){if((0,c.A7)(e)){const t=e.toLowerCase();if(w[t])return d.IC.from(w[t].signature);for(const e of this.#h.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){const t=[];for(const[r,n]of this.#h)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?d.IC.from("error Error(string)"):"Panic"===e?d.IC.from("error Panic(uint256)"):null;if(t.length>1){const r=t.map((e=>JSON.stringify(e.format()))).join(", ");(0,o.en)(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}if("Error(string)"===(e=d.IC.from(e).format()))return d.IC.from("error Error(string)");if("Panic(uint256)"===e)return d.IC.from("error Panic(uint256)");return this.#h.get(e)||null}forEachError(e){const t=Array.from(this.#h.keys());t.sort(((e,t)=>e.localeCompare(t)));for(let r=0;r<t.length;r++){const n=t[r];e(this.#h.get(n),r)}}_decodeParams(e,t){return this.#p.decode(e,t)}_encodeParams(e,t){return this.#p.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);(0,o.en)(t,"unknown error","fragment",e),e=t}return(0,o.en)((0,c.QB)(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,c.QB)(t,4))}encodeErrorResult(e,t){if("string"==typeof e){const t=this.getError(e);(0,o.en)(t,"unknown error","fragment",e),e=t}return(0,c.zo)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,o.en)(t,"unknown function","fragment",e),e=t}return(0,o.en)((0,c.QB)(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,(0,c.QB)(t,4))}encodeFunctionData(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,o.en)(t,"unknown function","fragment",e),e=t}return(0,c.zo)([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,o.en)(t,"unknown function","fragment",e),e=t}let r="invalid length for result data";const n=(0,c.h_)(t);if(n.length%32==0)try{return this.#p.decode(e.outputs,n)}catch(e){r="could not decode result data"}(0,o.hu)(!1,r,"BAD_DATA",{value:(0,c.Dv)(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=(0,c.Pw)(e,"data"),n=u.R.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){const e=(0,c.Dv)(r.slice(0,4)),t=this.getError(e);if(t)try{const e=this.#p.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}const s=this.parseTransaction(t);return s&&(n.invocation={method:s.name,signature:s.signature,args:s.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){const t=this.getFunction(e);(0,o.en)(t,"unknown function","fragment",e),e=t}return(0,c.Dv)(this.#p.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){const t=this.getEvent(e);(0,o.en)(t,"unknown event","eventFragment",e),e=t}(0,o.hu)(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const n=(e,t)=>"string"===e.type?(0,i.id)(t):"bytes"===e.type?(0,s.w)((0,c.Dv)(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=(0,l.m9)(t):e.type.match(/^bytes/)?t=(0,c.SK)(t,32):"address"===e.type&&this.#p.encode(["address"],[t]),(0,c.U3)((0,c.Dv)(t),32));for(t.forEach(((t,s)=>{const i=e.inputs[s];i.indexed?null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?(0,o.en)(!1,"filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map((e=>n(i,e)))):r.push(n(i,t)):(0,o.en)(null==t,"cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){const t=this.getEvent(e);(0,o.en)(t,"unknown event","eventFragment",e),e=t}const r=[],n=[],a=[];return e.anonymous||r.push(e.topicHash),(0,o.en)(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach(((e,o)=>{const c=t[o];if(e.indexed)if("string"===e.type)r.push((0,i.id)(c));else if("bytes"===e.type)r.push((0,s.w)(c));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this.#p.encode([e.type],[c]))}else n.push(e),a.push(c)})),{data:this.#p.encode(n,a),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){const t=this.getEvent(e);(0,o.en)(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){const t=e.topicHash;(0,o.en)((0,c.A7)(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],s=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(d._R.from({type:"bytes32",name:e.name})),i.push(!0)):(n.push(e),i.push(!1)):(s.push(e),i.push(!1))}));const a=null!=r?this.#p.decode(n,(0,c.zo)(r)):null,l=this.#p.decode(s,t,!0),u=[],f=[];let p=0,g=0;return e.inputs.forEach(((e,t)=>{let r=null;if(e.indexed)if(null==a)r=new m(null);else if(i[t])r=new m(a[g++]);else try{r=a[g++]}catch(e){r=e}else try{r=l[p++]}catch(e){r=e}u.push(r),f.push(e.name||null)})),h.x4.fromItems(u,f)}parseTransaction(e){const t=(0,c.Pw)(e.data,"tx.data"),r=(0,l.yT)(null!=e.value?e.value:0,"tx.value"),n=this.getFunction((0,c.Dv)(t.slice(0,4)));if(!n)return null;const s=this.#p.decode(n.inputs,t.slice(4));return new p(n,n.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new f(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=(0,c.Dv)(e),r=this.getError((0,c.QB)(t,0,4));if(!r)return null;const n=this.#p.decode(r.inputs,(0,c.QB)(t,4));return new g(r,r.selector,n)}static from(e){return e instanceof A?e:"string"==typeof e?new A(JSON.parse(e)):"function"==typeof e.format?new A(e.format("json")):new A(e)}}var b=r(554),v=r(101),E=r(539);class P extends v.Zb{interface;fragment;args;constructor(e,t,r){super(e,e.provider);const n=t.decodeEventLog(r,e.data,e.topics);(0,a.h)(this,{args:n,fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class T extends v.Zb{error;constructor(e,t){super(e,e.provider),(0,a.h)(this,{error:t})}}class k extends v.IX{#y;constructor(e,t,r){super(r,t),this.#y=e}get logs(){return super.logs.map((e=>{const t=e.topics.length?this.#y.getEvent(e.topics[0]):null;if(t)try{return new P(e,this.#y,t)}catch(t){return new T(e,t)}return e}))}}class x extends v.Mw{#y;constructor(e,t,r){super(r,t),this.#y=e}async wait(e){const t=await super.wait(e);return null==t?null:new k(this.#y,this.provider,t)}}class C extends E.Z{log;constructor(e,t,r,n){super(e,t,r),(0,a.h)(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class I extends C{constructor(e,t,r,n,s){super(e,t,r,new P(s,e.interface,n));const i=e.interface.decodeEventLog(n,this.log.data,this.log.topics);(0,a.h)(this,{args:i,fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const N=BigInt(0);function S(e){return e&&"function"==typeof e.call}function B(e){return e&&"function"==typeof e.estimateGas}function O(e){return e&&"function"==typeof e.resolveName}function R(e){return e&&"function"==typeof e.sendTransaction}class D{#w;fragment;constructor(e,t,r){if((0,a.h)(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const n=L(e.runner,"resolveName"),s=O(n)?n:null;this.#w=async function(){const n=await Promise.all(t.inputs.map(((e,t)=>null==r[t]?null:e.walkAsync(r[t],((e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map((e=>(0,b.ru)(e,s)))):(0,b.ru)(t,s):t)))));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#w}}function L(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function U(e){return null==e?null:e.provider||null}async function F(e,t){const r=n._.dereference(e,"overrides");(0,o.en)("object"==typeof r,"invalid overrides parameter","overrides",e);const s=(0,v.kK)(r);return(0,o.en)(null==s.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",s.to),(0,o.en)(null==s.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",s.data),s.from&&(s.from=await(0,b.ru)(s.from)),s}function M(e){const t=async function(t){const r=await F(t,["data"]);r.to=await e.getAddress();const n=e.interface,s=(0,l.yT)(r.value||N,"overrides.value")===N,i="0x"===(r.data||"0x");!n.fallback||n.fallback.payable||!n.receive||i||s||(0,o.en)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),(0,o.en)(n.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data);const a=n.receive||n.fallback&&n.fallback.payable;return(0,o.en)(a||s,"cannot send value to non-payable fallback","overrides.value",r.value),(0,o.en)(n.fallback||i,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const n=e.runner;(0,o.hu)(R(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const s=await n.sendTransaction(await t(r)),i=U(e.runner);return new x(e.interface,i,s)},n=async e=>await r(e);return(0,a.h)(n,{_contract:e,estimateGas:async function(r){const n=L(e.runner,"estimateGas");return(0,o.hu)(B(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},populateTransaction:t,send:r,staticCall:async function(r){const n=L(e.runner,"call");(0,o.hu)(S(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await t(r);try{return await n.call(s)}catch(t){if((0,o.Hl)(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}}}),n}const G=Symbol.for("_ethersInternal_contract"),H=new WeakMap;function q(e){return H.get(e[G])}async function j(e,t){let r,n=null;if(Array.isArray(t)){const n=function(t){if((0,c.A7)(t,32))return t;const r=e.interface.getEvent(t);return(0,o.en)(r,"unknown fragment","name",t),r.topicHash};r=t.map((e=>null==e?null:Array.isArray(e)?e.map(n):n(e)))}else"*"===t?r=[null]:"string"==typeof t?(0,c.A7)(t,32)?r=[t]:(n=e.interface.getEvent(t),(0,o.en)(n,"unknown fragment","event",t),r=[n.topicHash]):(s=t)&&"object"==typeof s&&"getTopicFilter"in s&&"function"==typeof s.getTopicFilter&&s.fragment?r=await t.getTopicFilter():"fragment"in t?(n=t.fragment,r=[n.topicHash]):(0,o.en)(!1,"unknown event name","event",t);var s;return r=r.map((e=>{if(null==e)return null;if(Array.isArray(e)){const t=Array.from(new Set(e.map((e=>e.toLowerCase()))).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})),{fragment:n,tag:r.map((e=>null==e?"null":Array.isArray(e)?e.join("|"):e)).join("&"),topics:r}}async function Q(e,t){const{subs:r}=q(e);return r.get((await j(e,t)).tag)||null}async function V(e,t,r){const n=U(e.runner);(0,o.hu)(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:s,tag:i,topics:a}=await j(e,r),{addr:c,subs:l}=q(e);let u=l.get(i);if(!u){const t={address:c||e,topics:a},o=t=>{let n=s;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){const i=n,a=s?e.interface.decodeEventLog(s,t.data,t.topics):[];z(e,r,a,(n=>new I(e,n,r,i,t)))}else z(e,r,[],(n=>new C(e,n,r,t)))};let h=[];u={tag:i,listeners:[],start:()=>{h.length||h.push(n.on(t,o))},stop:async()=>{if(0==h.length)return;let e=h;h=[],await Promise.all(e),n.off(t,o)}},l.set(i,u)}return u}let K=Promise.resolve();async function z(e,t,r,n){try{await K}catch(e){}const s=async function(e,t,r,n){await K;const s=await Q(e,t);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter((({listener:t,once:s})=>{const i=Array.from(r);n&&i.push(n(s?null:t));try{t.call(e,...i)}catch(e){}return!s})),0===s.listeners.length&&(s.stop(),q(e).subs.delete(s.tag)),i>0}(e,t,r,n);return K=s,await s}const J=["then"];class Z{target;interface;runner;filters;[G];fallback;constructor(e,t,r,n){(0,o.en)("string"==typeof e||(0,b.RC)(e),"invalid value for Contract target","target",e),null==r&&(r=null);const s=A.from(t);let i;(0,a.h)(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,G,{value:{}});let l=null,u=null;if(n){const e=U(r);u=new x(this.interface,e,n)}let h=new Map;if("string"==typeof e)if((0,c.A7)(e))l=e,i=Promise.resolve(e);else{const t=L(r,"resolveName");if(!O(t))throw(0,o.wf)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});i=t.resolveName(e).then((t=>{if(null==t)throw(0,o.wf)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return q(this).addr=t,t}))}else i=e.getAddress().then((e=>{if(null==e)throw new Error("TODO");return q(this).addr=e,e}));var d;d={addrPromise:i,addr:l,deployTx:u,subs:h},H.set(this[G],d);const f=new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||J.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!(0,o.VZ)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>J.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))});return(0,a.h)(this,{filters:f}),(0,a.h)(this,{fallback:s.receive||s.fallback?M(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||J.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!(0,o.VZ)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||J.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new Z(this.target,this.interface,e)}attach(e){return new Z(e,this.interface,this.runner)}async getAddress(){return await q(this).addrPromise}async getDeployedCode(){const e=U(this.runner);(0,o.hu)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;const t=U(this.runner);return(0,o.hu)(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((e,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return e(this);t.once("block",n)}catch(e){r(e)}};n()}))}deploymentTransaction(){return q(this).deployTx}getFunction(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const r=function(...r){const n=e.interface.getFunction(t,r);return(0,o.hu)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},s=async function(...t){const s=r(...t);let i={};if(s.inputs.length+1===t.length&&(i=await F(t.pop())),s.inputs.length!==t.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const o=await async function(e,t,r){const s=L(e,"resolveName"),i=O(s)?s:null;return await Promise.all(t.map(((e,t)=>e.walkAsync(r[t],((e,t)=>(t=n._.dereference(t,e),"address"===e?(0,b.ru)(t,i):t))))))}(e.runner,s.inputs,t);return Object.assign({},i,await(0,a.m)({to:e.getAddress(),data:e.interface.encodeFunctionData(s,o)}))},i=async function(...e){const t=await l(...e);return 1===t.length?t[0]:t},c=async function(...t){const r=e.runner;(0,o.hu)(R(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await r.sendTransaction(await s(...t)),i=U(e.runner);return new x(e.interface,i,n)},l=async function(...t){const n=L(e.runner,"call");(0,o.hu)(S(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await s(...t);let a="0x";try{a=await n.call(i)}catch(t){if((0,o.Hl)(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}const c=r(...t);return e.interface.decodeFunctionResult(c,a)},u=async(...e)=>r(...e).constant?await i(...e):await c(...e);return(0,a.h)(u,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:async function(...t){const r=L(e.runner,"estimateGas");return(0,o.hu)(B(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await s(...t))},populateTransaction:s,send:c,staticCall:i,staticCallResult:l}),Object.defineProperty(u,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getFunction(t);return(0,o.hu)(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),u}(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){const r=function(...r){const n=e.interface.getEvent(t,r);return(0,o.hu)(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=function(...t){return new D(e,r(...t),t)};return(0,a.h)(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=e.interface.getEvent(t);return(0,o.hu)(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");const{addr:n,addrPromise:s}=q(this),i=n||await s,{fragment:a,topics:c}=await j(this,e),l={address:i,topics:c,fromBlock:t,toBlock:r},u=U(this.runner);return(0,o.hu)(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map((e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new P(e,this.interface,t)}catch(t){return new T(e,t)}return new v.Zb(e,u)}))}async on(e,t){const r=await V(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await V(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await z(this,e,t,null)}async listenerCount(e){if(e){const t=await Q(this,e);return t?t.listeners.length:0}const{subs:t}=q(this);let r=0;for(const{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){const t=await Q(this,e);return t?t.listeners.map((({listener:e})=>e)):[]}const{subs:t}=q(this);let r=[];for(const{listeners:e}of t.values())r=r.concat(e.map((({listener:e})=>e)));return r}async off(e,t){const r=await Q(this,e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return null!=t&&0!==r.listeners.length||(r.stop(),q(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await Q(this,e);if(!t)return this;t.stop(),q(this).subs.delete(t.tag)}else{const{subs:e}=q(this);for(const{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends Z{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}class _ extends(function(){return Z}()){}},143:(e,t,r)=>{"use strict";r.d(t,{w:()=>C});var n=r(527),s=r(881),i=r(979);const[a,o,c]=[[],[],[]],l=BigInt(0),u=BigInt(1),h=BigInt(2),d=BigInt(7),f=BigInt(256),p=BigInt(113);for(let e=0,t=u,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],a.push(2*(5*n+r)),o.push((e+1)*(e+2)/2%64);let s=l;for(let e=0;e<7;e++)t=(t<<u^(t>>d)*p)%f,t&h&&(s^=u<<(u<<BigInt(e))-u);c.push(s)}const[g,m]=s.ZP.split(c,!0),y=(e,t,r)=>r>32?s.ZP.rotlBH(e,t,r):s.ZP.rotlSH(e,t,r),w=(e,t,r)=>r>32?s.ZP.rotlBL(e,t,r):s.ZP.rotlSL(e,t,r);class A extends i.kb{constructor(e,t,r,s=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,n.ZP.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,i.Jq)(this.state)}keccak(){!function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,s=(t+2)%10,i=r[s],a=r[s+1],o=y(i,a,1)^r[n],c=w(i,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=c}let t=e[2],s=e[3];for(let r=0;r<24;r++){const n=o[r],i=y(t,s,n),c=w(t,s,n),l=a[r];t=e[l],s=e[l+1],e[l]=i,e[l+1]=c}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=g[n],e[1]^=m[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){n.ZP.exists(this);const{blockLen:t,state:r}=this,s=(e=(0,i.O0)(e)).length;for(let n=0;n<s;){const i=Math.min(t-this.pos,s-n);for(let t=0;t<i;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!=(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){n.ZP.exists(this,!1),n.ZP.bytes(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,s=e.length;n<s;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+i),n),this.posOut+=i,n+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return n.ZP.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(n.ZP.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:s,enableXOF:i}=this;return e||(e=new A(t,r,n,i,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}const b=(e,t,r)=>(0,i.hE)((()=>new A(t,e,r))),v=(b(6,144,28),b(6,136,32),b(6,104,48),b(6,72,64),b(1,144,28),b(1,136,32)),E=(b(1,104,48),b(1,72,64),(e,t,r)=>(0,i.K$)(((n={})=>new A(t,e,void 0===n.dkLen?r:n.dkLen,!0))));E(31,168,16),E(31,136,32);var P=r(455);let T=!1;const k=function(e){return v(e)};let x=k;function C(e){const t=(0,P.Pw)(e,"data");return(0,P.Dv)(x(t))}C._=k,C.lock=function(){T=!0},C.register=function(e){if(T)throw new TypeError("keccak256 is locked");x=e},Object.freeze(C)},186:(e,t,r)=>{"use strict";r.d(t,{id:()=>i});var n=r(143),s=r(155);function i(e){return(0,n.w)((0,s.Y0)(e))}},647:(e,t,r)=>{"use strict";r.d(t,{Q:()=>Os});var n=r(470),s=r(274),i=r(556),a=r(554),o=r(143),c=r(455),l=r(229),u=r(857),h=r(186);const d=new Uint8Array(32);d.fill(0);const f=BigInt(-1),p=BigInt(0),g=BigInt(1),m=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),y=(0,l.m9)(g,32),w=(0,l.m9)(p,32),A={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},b=["name","version","chainId","verifyingContract","salt"];function v(e){return function(t){return(0,n.en)("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const E={name:v("name"),version:v("version"),chainId:function(e){const t=(0,l.yT)(e,"domain.chainId");return(0,n.en)(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t)?Number(t):(0,l.B4)(t)},verifyingContract:function(e){try{return(0,i.K)(e).toLowerCase()}catch(e){}(0,n.en)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){const t=(0,c.Pw)(e,"domain.salt");return(0,n.en)(32===t.length,'invalid domain value "salt"',"domain.salt",e),(0,c.Dv)(t)}};function P(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],s=parseInt(t[2]||"256");(0,n.en)(s%8==0&&0!==s&&s<=256&&(null==t[2]||t[2]===String(s)),"invalid numeric width","type",e);const i=(0,l.sS)(m,r?s-1:s),a=r?(i+g)*f:p;return function(t){const s=(0,l.yT)(t,"value");return(0,n.en)(s>=a&&s<=i,`value out-of-bounds for ${e}`,"value",s),(0,l.m9)(r?(0,l.$j)(s,256):s,32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0,n.en)(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){const s=(0,c.Pw)(t);return(0,n.en)(s.length===r,`invalid length for ${e}`,"value",t),function(e){const t=(0,c.Pw)(e),r=t.length%32;return r?(0,c.zo)([t,d.slice(r)]):(0,c.Dv)(t)}(t)}}}switch(e){case"address":return function(e){return(0,c.U3)((0,i.K)(e),32)};case"bool":return function(e){return e?y:w};case"bytes":return function(e){return(0,o.w)(e)};case"string":return function(e){return(0,h.id)(e)}}return null}function T(e,t){return`${e}(${t.map((({name:e,type:t})=>t+" "+e)).join(",")})`}class k{primaryType;#A;get types(){return JSON.parse(this.#A)}#b;#v;constructor(e){this.#A=JSON.stringify(e),this.#b=new Map,this.#v=new Map;const t=new Map,r=new Map,s=new Map;Object.keys(e).forEach((e=>{t.set(e,new Set),r.set(e,[]),s.set(e,new Set)}));for(const s in e){const i=new Set;for(const a of e[s]){(0,n.en)(!i.has(a.name),`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(s)}`,"types",e),i.add(a.name);const o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;(0,n.en)(o!==s,`circular type reference to ${JSON.stringify(o)}`,"types",e),P(o)||((0,n.en)(r.has(o),`unknown type ${JSON.stringify(o)}`,"types",e),r.get(o).push(s),t.get(s).add(o))}}const i=Array.from(r.keys()).filter((e=>0===r.get(e).length));(0,n.en)(0!==i.length,"missing primary type","types",e),(0,n.en)(1===i.length,`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),(0,u.h)(this,{primaryType:i[0]}),function i(a,o){(0,n.en)(!o.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),o.add(a);for(const e of t.get(a))if(r.has(e)){i(e,o);for(const t of o)s.get(t).add(e)}o.delete(a)}(this.primaryType,new Set);for(const[t,r]of s){const n=Array.from(r);n.sort(),this.#b.set(t,T(t,e[t])+n.map((t=>T(t,e[t]))).join(""))}}getEncoder(e){let t=this.#v.get(e);return t||(t=this.#E(e),this.#v.set(e,t)),t}#E(e){{const t=P(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e);return s=>{(0,n.en)(!t[3]||parseInt(t[3])===s.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",s);let i=s.map(r);return this.#b.has(e)&&(i=i.map(o.w)),(0,o.w)((0,c.zo)(i))}}const r=this.types[e];if(r){const t=(0,h.id)(this.#b.get(e));return e=>{const n=r.map((({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this.#b.has(r)?(0,o.w)(n):n}));return n.unshift(t),(0,c.zo)(n)}}(0,n.en)(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#b.get(e);return(0,n.en)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,o.w)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(P(e))return r(e,t);const s=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s)return(0,n.en)(!s[3]||parseInt(s[3])===t.length,`array length mismatch; expected length ${parseInt(s[3])}`,"value",t),t.map((e=>this._visit(s[1],e,r)));const i=this.types[e];if(i)return i.reduce(((e,{name:n,type:s})=>(e[n]=this._visit(s,t[n],r),e)),{});(0,n.en)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new k(e)}static getPrimaryType(e){return k.from(e).primaryType}static hashStruct(e,t,r){return k.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(null==e[r])continue;const s=A[r];(0,n.en)(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:s})}return t.sort(((e,t)=>b.indexOf(e.name)-b.indexOf(t.name))),k.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,c.zo)(["0x1901",k.hashDomain(e),k.from(t).hash(r)])}static hash(e,t,r){return(0,o.w)(k.encode(e,t,r))}static async resolveNames(e,t,r,n){e=Object.assign({},e);for(const t in e)null==e[t]&&delete e[t];const s={};e.verifyingContract&&!(0,c.A7)(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const i=k.from(t);i.visit(r,((e,t)=>("address"!==e||(0,c.A7)(t,20)||(s[t]="0x"),t)));for(const e in s)s[e]=await n(e);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),{domain:e,value:r=i.visit(r,((e,t)=>"address"===e&&s[t]?s[t]:t))}}static getPayload(e,t,r){k.hashDomain(e);const s={},i=[];b.forEach((t=>{const r=e[t];null!=r&&(s[t]=E[t](r),i.push({name:t,type:A[t]}))}));const a=k.from(t),o=Object.assign({},t);return(0,n.en)(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=i,a.encode(r),{types:o,domain:s,primaryType:a.primaryType,message:a.visit(r,((e,t)=>{if(e.match(/^bytes(\d*)/))return(0,c.Dv)((0,c.Pw)(t));if(e.match(/^u?int/))return(0,l.yT)(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return(0,n.en)("string"==typeof t,"invalid string","value",t),t}(0,n.en)(!1,"unsupported type","type",e)}))}}}var x=r(891),C=r(155);const I="0x0000000000000000000000000000000000000000";var N=r(955);function S(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),s=1,i=[0,1];for(let e=1;e<n;e++)i.push(s+=r());let a=r(),o=t;t+=a;let c=0,l=0;function u(){return 0==c&&(l=l<<8|e[t++],c=8),l>>--c&1}const h=2**31,d=h>>>1,f=h-1;let p=0;for(let e=0;e<31;e++)p=p<<1|u();let g=[],m=0,y=h;for(;;){let e=Math.floor(((p-m+1)*s-1)/y),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<i[n]?r=n:t=n}if(0==t)break;g.push(t);let a=m+Math.floor(y*i[t]/s),o=m+Math.floor(y*i[t+1]/s)-1;for(;0==((a^o)&d);)p=p<<1&f|u(),a=a<<1&f,o=o<<1&f|1;for(;a&~o&536870912;)p=p&d|p<<1&f>>>1|u(),a=a<<1^d,o=(o^d)<<1|d|1;m=a,y=1+o-a}let w=n-4;return g.map((t=>{switch(t-w){case 3:return w+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return w+256+(e[o++]<<8|e[o++]);case 1:return w+e[o++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,r)=>t[e.charCodeAt(0)]=r));let r=e.length,n=new Uint8Array(6*r>>3);for(let s=0,i=0,a=0,o=0;s<r;s++)o=o<<6|t[e.charCodeAt(s)],a+=6,a>=8&&(n[i++]=o>>(a-=8));return n}(e)))}function B(e){return 1&e?~e>>1:e>>1}function O(e,t){let r=Array(e);for(let n=0,s=0;n<e;n++)r[n]=s+=B(t());return r}function R(e,t=0){let r=[];for(;;){let n=e(),s=e();if(!s)break;t+=n;for(let e=0;e<s;e++)r.push(t+e);t+=s+1}return r}function D(e){return U((()=>{let t=R(e);if(t.length)return t}))}function L(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(M(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(G(r,e))}return t.flat()}function U(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function F(e,t,r){let n=Array(e).fill().map((()=>[]));for(let s=0;s<t;s++)O(e,r).forEach(((e,t)=>n[t].push(e)));return n}function M(e,t){let r=1+t(),n=t(),s=U(t);return F(s.length,1+e,t).flatMap(((e,t)=>{let[i,...a]=e;return Array(s[t]).fill().map(((e,t)=>{let s=t*n;return[i+t*r,a.map((e=>e+s))]}))}))}function G(e,t){return F(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}var H=S("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");const q=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),j=4;function Q(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function V(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}var K=S("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");function z(e){return e>>24&255}function J(e){return 16777215&e}const Z=new Map(D(K).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),_=new Set(R(K)),Y=new Map,W=new Map;for(let[e,t]of L(K)){if(!_.has(e)&&2==t.length){let[r,n]=t,s=W.get(r);s||(s=new Map,W.set(r,s)),s.set(n,e)}Y.set(e,t.reverse())}const X=44032,$=4352,ee=4449,te=4519,re=28,ne=21*re,se=X+19*ne,ie=$+19,ae=ee+21,oe=te+re;function ce(e){return e>=X&&e<se}function le(e,t){if(e>=$&&e<ie&&t>=ee&&t<ae)return X+(e-$)*ne+(t-ee)*re;if(ce(e)&&t>te&&t<oe&&(e-X)%re==0)return e+(t-te);{let r=W.get(e);return r&&(r=r.get(t),r)?r:-1}}function ue(e){let t=[],r=[],n=!1;function s(e){let r=Z.get(e);r&&(n=!0,e|=r),t.push(e)}for(let n of e)for(;;){if(n<128)t.push(n);else if(ce(n)){let e=n-X,t=e%ne/re|0,r=e%re;s($+(e/ne|0)),s(ee+t),r>0&&s(te+r)}else{let e=Y.get(n);e?r.push(...e):s(n)}if(!r.length)break;n=r.pop()}if(n&&t.length>1){let e=z(t[0]);for(let r=1;r<t.length;r++){let n=z(t[r]);if(0==n||e<=n){e=n;continue}let s=r-1;for(;;){let r=t[s+1];if(t[s+1]=t[s],t[s]=r,!s)break;if(e=z(t[--s]),e<=n)break}e=z(t[r])}}return t}function he(e){return ue(e).map(J)}function de(e){return function(e){let t=[],r=[],n=-1,s=0;for(let i of e){let e=z(i),a=J(i);if(-1==n)0==e?n=a:t.push(a);else if(s>0&&s>=e)0==e?(t.push(n,...r),r.length=0,n=a):r.push(a),s=e;else{let i=le(n,a);i>=0?n=i:0==s&&0==e?(t.push(n),n=a):(r.push(a),s=e)}}return n>=0&&t.push(n,...r),t}(ue(e))}const fe=65039,pe=".",ge=1,me=45;function ye(){return new Set(R(H))}const we=new Map(L(H)),Ae=ye(),be=ye(),ve=new Set(R(H).map((function(e){return this[e]}),[...be])),Ee=ye(),Pe=(ye(),D(H));function Te(){return new Set([R(H).map((e=>Pe[e])),R(H)].flat(2))}const ke=H(),xe=U((e=>{let t=U(H).map((e=>e+96));if(t.length){let r=e>=ke;t[0]-=32,t=V(t),r&&(t=`Restricted[${t}]`);let n=Te(),s=Te(),i=[...n,...s].sort(((e,t)=>e-t));return{N:t,P:n,M:!H(),R:r,V:new Set(i)}}})),Ce=ye(),Ie=new Map;[...Ce,...ye()].sort(((e,t)=>e-t)).map(((e,t,r)=>{let n=H(),s=r[t]=n?r[t-n]:{V:[],M:new Map};s.V.push(e),Ce.has(e)||Ie.set(e,s)}));for(let{V:e,M:t}of new Set(Ie.values())){let r=[];for(let t of e){let e=xe.filter((e=>e.V.has(t))),n=r.find((({G:t})=>e.some((e=>t.has(e)))));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),e.forEach((e=>n.G.add(e)))}let n=r.flatMap((({G:e})=>[...e]));for(let{G:e,V:s}of r){let r=new Set(n.filter((t=>!e.has(t))));for(let e of s)t.set(e,r)}}let Ne=new Set,Se=new Set;for(let e of xe)for(let t of e.V)(Ne.has(t)?Se:Ne).add(t);for(let e of Ne)Ie.has(e)||Se.has(e)||Ie.set(e,ge);const Be=new Set([...Ne,...he(Ne)]),Oe=R(H),Re=function e(t){let r=U((()=>{let t=R(H).map((e=>Oe[e]));if(t.length)return e(t)})).sort(((e,t)=>t.Q.size-e.Q.size)),n=H(),s=n%3;n=n/3|0;let i=1&n;return n>>=1,{B:r,V:s,F:i,S:1&n,C:2&n,Q:new Set(t)}}([]);class De extends Array{get is_emoji(){return!0}}function Le(e,t=Q){let r=[];var n;n=e[0],be.has(n)&&r.push("");let s=0,i=e.length;for(let n=0;n<i;n++){let i=e[n];Ge(i)&&(r.push(V(e.slice(s,n))),r.push(t(i)),s=n+1)}return r.push(V(e.slice(s,i))),r.join("")}function Ue(e){return(Ge(e)?"":`${Fe(Le([e]))} `)+Q(e)}function Fe(e){return`"${e}"`}function Me(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}function Ge(e){return Ee.has(e)}function He(e,t){let r=0;return e.split(pe).map((e=>{let n,s=function(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}(e),i={input:s,offset:r};r+=s.length+1;try{let e,r=i.tokens=function(e,t){let r=[],n=[];for(e=e.slice().reverse();e.length;){let s=Ve(e);if(s)n.length&&(r.push(t(n)),n=[]),r.push(s);else{let t=e.pop();if(Be.has(t))n.push(t);else{let e=we.get(t);if(e)n.push(...e);else if(!Ae.has(t))throw qe(t)}}}return n.length&&r.push(t(n)),r}(s,de),a=r.length;if(!a)throw new Error("empty label");{let s=r[0],o=a>1||s.is_emoji;if(!o&&s.every((e=>e<128)))n=s,Me(n),function(e){if(e.length>=4&&e[2]==me&&e[3]==me)throw new Error("invalid label extension")}(n),e="ASCII";else if(o&&(i.emoji=!0,s=r.flatMap((e=>e.is_emoji?[]:e))),n=r.flatMap((e=>!t&&e.is_emoji?e.filter((e=>e!=fe)):e)),Me(n),s.length){if(be.has(n[0]))throw Qe("leading combining mark");for(let e=1;e<a;e++){let t=r[e];if(!t.is_emoji&&be.has(t[0]))throw Qe(`emoji + combining mark: "${V(r[e-1])} + ${Le([t[0]])}"`)}!function(e){let t=e[0],r=q.get(t);if(r)throw Qe(`leading ${r}`);let n=e.length,s=-1;for(let i=1;i<n;i++){t=e[i];let n=q.get(t);if(n){if(s==i)throw Qe(`${r} + ${n}`);s=i+1,r=n}}if(s==n)throw Qe(`trailing ${r}`)}(n);let t=[...new Set(s)],[i]=function(e){let t=xe;for(let r of e){let e=t.filter((e=>e.V.has(r)));if(!e.length)throw t===xe?qe(r):je(t[0],r);if(t=e,1==e.length)break}return t}(t);!function(e,t){let{V:r,M:n}=e;for(let n of t)if(!r.has(n))throw je(e,n);if(n){let e=he(t);for(let t=1,r=e.length;t<r;t++)if(ve.has(e[t])){let n=t+1;for(let s;n<r&&ve.has(s=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==s)throw new Error(`non-spacing marks: repeated ${Ue(s)}`);if(n-t>j)throw new Error(`non-spacing marks: too many ${Fe(Le(e.slice(t-1,n)))} (${n-t}/${j})`);t=n}}}(i,s),function(e,t){let r,n=[];for(let e of t){let t=Ie.get(e);if(t===ge)return;if(t){let n=t.M.get(e);if(r=r?r.filter((e=>n.has(e))):[...n],!r.length)return}else n.push(e)}if(r)for(let t of r)if(n.every((e=>t.V.has(e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(i,t),e=i.N}else e="Emoji"}i.type=e}catch(e){i.error=e}return i.output=n,i}))}function qe(e){return new Error(`disallowed character: ${Ue(e)}`)}function je(e,t){let r=Ue(t),n=xe.find((e=>e.P.has(t)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function Qe(e){return new Error(`illegal placement: ${e}`)}function Ve(e,t){let r,n,s=Re,i=[],a=e.length;for(t&&(t.length=0);a;){let o=e[--a];if(s=s.B.find((e=>e.Q.has(o))),!s)break;if(s.S)n=o;else if(s.C&&o===n)break;i.push(o),s.F&&(i.push(fe),a>0&&e[a-1]==fe&&a--),s.V&&(r=Ke(i,s),t&&t.push(...e.slice(a).reverse()),e.length=a)}return r}function Ke(e,t){let r=De.from(e);return 2==t.V&&r.splice(1,1),r}const ze=new Uint8Array(32);function Je(e){return(0,n.en)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function Ze(e){const t=(0,C.Y0)(function(e){try{return function(e){return(t=He(e)).map((({input:e,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==t.length?n:`Invalid label ${Fe(Le(e))}: ${n}`)}return V(n)})).join(pe);var t}(e)}catch(t){(0,n.en)(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),r=[];if(0===e.length)return r;let s=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(Je(t.slice(s,e))),s=e+1);return(0,n.en)(s<t.length,"invalid ENS name; empty component","name",e),r.push(Je(t.slice(s))),r}function _e(e){(0,n.en)("string"==typeof e,"invalid ENS name; not a string","name",e);let t=ze;const r=Ze(e);for(;r.length;)t=(0,o.w)((0,c.zo)([t,(0,o.w)(r.pop())]));return(0,c.Dv)(t)}ze.fill(0);const Ye="0x0000000000000000000000000000000000000000000000000000000000000000",We=BigInt(0),Xe=BigInt(1),$e=BigInt(2),et=BigInt(27),tt=BigInt(28),rt=BigInt(35),nt={};function st(e){return(0,c.U3)((0,l.ot)(e),32)}class it{#P;#T;#k;#x;get r(){return this.#P}set r(e){(0,n.en)(32===(0,c.M5)(e),"invalid r","value",e),this.#P=(0,c.Dv)(e)}get s(){return this.#T}set s(e){(0,n.en)(32===(0,c.M5)(e),"invalid s","value",e);const t=(0,c.Dv)(e);(0,n.en)(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),this.#T=t}get v(){return this.#k}set v(e){const t=(0,l.Dx)(e,"value");(0,n.en)(27===t||28===t,"invalid v","v",e),this.#k=t}get networkV(){return this.#x}get legacyChainId(){const e=this.networkV;return null==e?null:it.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const e=(0,c.Pw)(this.s);return this.yParity&&(e[0]|=128),(0,c.Dv)(e)}get compactSerialized(){return(0,c.zo)([this.r,this.yParityAndS])}get serialized(){return(0,c.zo)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,s){(0,n.NK)(e,nt,"Signature"),this.#P=t,this.#T=r,this.#k=s,this.#x=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new it(nt,this.r,this.s,this.v);return this.networkV&&(e.#x=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=(0,l.yT)(e,"v");return t==et||t==tt?We:((0,n.en)(t>=rt,"invalid EIP-155 v","v",e),(t-rt)/$e)}static getChainIdV(e,t){return(0,l.yT)(e)*$e+BigInt(35+t-27)}static getNormalizedV(e){const t=(0,l.yT)(e);return t===We||t===et?27:t===Xe||t===tt?28:((0,n.en)(t>=rt,"invalid v","v",e),t&Xe?27:28)}static from(e){function t(t,r){(0,n.en)(t,r,"signature",e)}if(null==e)return new it(nt,Ye,Ye,27);if("string"==typeof e){const r=(0,c.Pw)(e,"signature");if(64===r.length){const e=(0,c.Dv)(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new it(nt,e,(0,c.Dv)(t),n)}if(65===r.length){const e=(0,c.Dv)(r.slice(0,32)),n=r.slice(32,64);t(0==(128&n[0]),"non-canonical s");const s=it.getNormalizedV(r[64]);return new it(nt,e,(0,c.Dv)(n),s)}t(!1,"invalid raw signature length")}if(e instanceof it)return e.clone();const r=e.r;t(null!=r,"missing r");const s=st(r),i=function(e,r){if(null!=e)return st(e);if(null!=r){t((0,c.A7)(r,32),"invalid yParityAndS");const e=(0,c.Pw)(r);return e[0]&=127,(0,c.Dv)(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t(0==(128&(0,c.Pw)(i)[0]),"non-canonical s");const{networkV:a,v:o}=function(e,r,n){if(null!=e){const t=(0,l.yT)(e);return{networkV:t>=rt?t:void 0,v:it.getNormalizedV(t)}}if(null!=r)return t((0,c.A7)(r,32),"invalid yParityAndS"),{v:128&(0,c.Pw)(r)[0]?28:27};if(null!=n){switch((0,l.Dx)(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),u=new it(nt,s,i,o);return a&&(u.#x=a),t(null==e.yParity||(0,l.Dx)(e.yParity,"sig.yParity")===u.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===u.yParityAndS,"yParityAndS mismatch"),u}}var at=r(856),ot=r.t(at,2);const ct=BigInt(0),lt=BigInt(1),ut=BigInt(2),ht=BigInt(3),dt=BigInt(8),ft=Object.freeze({a:ct,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:lt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),pt=(e,t)=>(e+t/ut)/t,gt={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=ft,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-lt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,a=BigInt("0x100000000000000000000000000000000"),o=pt(i*e,t),c=pt(-n*e,t);let l=Qt(e-o*r-c*s,t),u=Qt(-o*n-c*i,t);const h=l>a,d=u>a;if(h&&(l=t-l),d&&(u=t-u),l>a||u>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:h,k1:l,k2neg:d,k2:u}}},mt=32,yt=32,wt=mt+1,At=2*mt+1;function bt(e){const{a:t,b:r}=ft,n=Qt(e*e),s=Qt(n*e);return Qt(s+t*e+r)}const vt=ft.a===ct;class Et extends Error{constructor(e){super(e)}}function Pt(e){if(!(e instanceof Tt))throw new TypeError("JacobianPoint expected")}class Tt{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof Ct))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Ct.ZERO)?Tt.ZERO:new Tt(e.x,e.y,lt)}static toAffineBatch(e){const t=function(e,t=ft.P){const r=new Array(e.length),n=Kt(e.reduce(((e,n,s)=>n===ct?e:(r[s]=e,Qt(e*n,t))),lt),t);return e.reduceRight(((e,n,s)=>n===ct?e:(r[s]=Qt(e*r[s],t),Qt(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return Tt.toAffineBatch(e).map(Tt.fromAffine)}equals(e){Pt(e);const{x:t,y:r,z:n}=this,{x:s,y:i,z:a}=e,o=Qt(n*n),c=Qt(a*a),l=Qt(t*c),u=Qt(s*o),h=Qt(Qt(r*a)*c),d=Qt(Qt(i*n)*o);return l===u&&h===d}negate(){return new Tt(this.x,Qt(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=Qt(e*e),s=Qt(t*t),i=Qt(s*s),a=e+s,o=Qt(ut*(Qt(a*a)-n-i)),c=Qt(ht*n),l=Qt(c*c),u=Qt(l-ut*o),h=Qt(c*(o-u)-dt*i),d=Qt(ut*t*r);return new Tt(u,h,d)}add(e){Pt(e);const{x:t,y:r,z:n}=this,{x:s,y:i,z:a}=e;if(s===ct||i===ct)return this;if(t===ct||r===ct)return e;const o=Qt(n*n),c=Qt(a*a),l=Qt(t*c),u=Qt(s*o),h=Qt(Qt(r*a)*c),d=Qt(Qt(i*n)*o),f=Qt(u-l),p=Qt(d-h);if(f===ct)return p===ct?this.double():Tt.ZERO;const g=Qt(f*f),m=Qt(f*g),y=Qt(l*g),w=Qt(p*p-m-ut*y),A=Qt(p*(y-w)-h*m),b=Qt(n*a*f);return new Tt(w,A,b)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Tt.ZERO;if("bigint"==typeof e&&e===ct)return t;let r=jt(e);if(r===lt)return this;if(!vt){let e=t,n=this;for(;r>ct;)r&lt&&(e=e.add(n)),n=n.double(),r>>=lt;return e}let{k1neg:n,k1:s,k2neg:i,k2:a}=gt.splitScalar(r),o=t,c=t,l=this;for(;s>ct||a>ct;)s&lt&&(o=o.add(l)),a&lt&&(c=c.add(l)),l=l.double(),s>>=lt,a>>=lt;return n&&(o=o.negate()),i&&(c=c.negate()),c=new Tt(Qt(c.x*gt.beta),c.y,c.z),o.add(c)}precomputeWindow(e){const t=vt?128/e+1:256/e+1,r=[];let n=this,s=n;for(let i=0;i<t;i++){s=n,r.push(s);for(let t=1;t<2**(e-1);t++)s=s.add(n),r.push(s);n=s.double()}return r}wNAF(e,t){!t&&this.equals(Tt.BASE)&&(t=Ct.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&xt.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=Tt.normalizeZ(n),xt.set(t,n)));let s=Tt.ZERO,i=Tt.BASE;const a=1+(vt?128/r:256/r),o=2**(r-1),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let t=0;t<a;t++){const r=t*o;let a=Number(e&c);e>>=u,a>o&&(a-=l,e+=lt);const h=r,d=r+Math.abs(a)-1,f=t%2!=0,p=a<0;0===a?i=i.add(kt(f,n[h])):s=s.add(kt(p,n[d]))}return{p:s,f:i}}multiply(e,t){let r,n,s=jt(e);if(vt){const{k1neg:e,k1:i,k2neg:a,k2:o}=gt.splitScalar(s);let{p:c,f:l}=this.wNAF(i,t),{p:u,f:h}=this.wNAF(o,t);c=kt(e,c),u=kt(a,u),u=new Tt(Qt(u.x*gt.beta),u.y,u.z),r=c.add(u),n=l.add(h)}else{const{p:e,f:i}=this.wNAF(s,t);r=e,n=i}return Tt.normalizeZ([r,n])[0]}toAffine(e){const{x:t,y:r,z:n}=this,s=this.equals(Tt.ZERO);null==e&&(e=s?dt:Kt(n));const i=e,a=Qt(i*i),o=Qt(a*i),c=Qt(t*a),l=Qt(r*o),u=Qt(n*i);if(s)return Ct.ZERO;if(u!==lt)throw new Error("invZ was invalid");return new Ct(c,l)}}function kt(e,t){const r=t.negate();return e?r:t}Tt.BASE=new Tt(ft.Gx,ft.Gy,lt),Tt.ZERO=new Tt(ct,lt,ct);const xt=new WeakMap;class Ct{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,xt.delete(this)}hasEvenY(){return this.y%ut===ct}static fromCompressedHex(e){const t=32===e.length,r=Ht(t?e:e.subarray(1));if(!Wt(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=ft,r=BigInt(6),n=BigInt(11),s=BigInt(22),i=BigInt(23),a=BigInt(44),o=BigInt(88),c=e*e*e%t,l=c*c*e%t,u=Vt(l,ht)*l%t,h=Vt(u,ht)*l%t,d=Vt(h,ut)*c%t,f=Vt(d,n)*d%t,p=Vt(f,s)*f%t,g=Vt(p,a)*p%t,m=Vt(g,o)*g%t,y=Vt(m,a)*p%t,w=Vt(y,ht)*l%t,A=Vt(w,i)*f%t,b=Vt(A,r)*c%t,v=Vt(b,ut);if(v*v%t!==e)throw new Error("Cannot find square root");return v}(bt(r));const s=(n&lt)===lt;t?s&&(n=Qt(-n)):1==(1&e[0])!==s&&(n=Qt(-n));const i=new Ct(r,n);return i.assertValidity(),i}static fromUncompressedHex(e){const t=Ht(e.subarray(1,mt+1)),r=Ht(e.subarray(mt+1,2*mt+1)),n=new Ct(t,r);return n.assertValidity(),n}static fromHex(e){const t=qt(e),r=t.length,n=t[0];if(r===mt)return this.fromCompressedHex(t);if(r===wt&&(2===n||3===n))return this.fromCompressedHex(t);if(r===At&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-${wt} compressed bytes or ${At} uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return Ct.BASE.multiply($t(e))}static fromSignature(e,t,r){const{r:n,s}=function(e){if(e instanceof St)return e.assertValidity(),e;try{return St.fromDER(e)}catch(t){return St.fromCompact(e)}}(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const i=zt(qt(e)),{n:a}=ft,o=2===r||3===r?n+a:n,c=Kt(o,a),l=Qt(-i*c,a),u=Qt(s*c,a),h=1&r?"03":"02",d=Ct.fromHex(h+Lt(o)),f=Ct.BASE.multiplyAndAddUnsafe(d,l,u);if(!f)throw new Error("Cannot recover signature: point at infinify");return f.assertValidity(),f}toRawBytes(e=!1){return Gt(this.toHex(e))}toHex(e=!1){const t=Lt(this.x);return e?`${this.hasEvenY()?"02":"03"}${t}`:`04${t}${Lt(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!Wt(t)||!Wt(r))throw new Error(e);const n=Qt(r*r);if(Qt(n-bt(t))!==ct)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Ct(this.x,Qt(-this.y))}double(){return Tt.fromAffine(this).double().toAffine()}add(e){return Tt.fromAffine(this).add(Tt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Tt.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=Tt.fromAffine(this),s=t===ct||t===lt||this!==Ct.BASE?n.multiplyUnsafe(t):n.multiply(t),i=Tt.fromAffine(e).multiplyUnsafe(r),a=s.add(i);return a.equals(Tt.ZERO)?void 0:a.toAffine()}}function It(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Nt(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${Rt(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ht(r),left:e.subarray(t+2)}}Ct.BASE=new Ct(ft.Gx,ft.Gy),Ct.ZERO=new Ct(ct,ct);class St{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?Rt(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new St(Mt(n.slice(0,64)),Mt(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!=typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${Rt(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=Nt(e.subarray(2)),{data:n,left:s}=Nt(r);if(s.length)throw new Error(`Invalid signature: left bytes after parsing: ${Rt(s)}`);return{r:t,s:n}}(t?e:Gt(e));return new St(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!Yt(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Yt(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=ft.n>>lt;return this.s>e}normalizeS(){return this.hasHighS()?new St(this.r,Qt(-this.s,ft.n)):this}toDERRawBytes(){return Gt(this.toDERHex())}toDERHex(){const e=It(Ft(this.s)),t=It(Ft(this.r)),r=e.length/2,n=t.length/2,s=Ft(r),i=Ft(n);return`30${Ft(n+r+4)}02${i}${t}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Gt(this.toCompactHex())}toCompactHex(){return Lt(this.r)+Lt(this.s)}}function Bt(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const s=e[t];r.set(s,n),n+=s.length}return r}const Ot=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Rt(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=Ot[e[r]];return t}const Dt=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Lt(e){if("bigint"!=typeof e)throw new Error("Expected bigint");if(!(ct<=e&&e<Dt))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function Ut(e){const t=Gt(Lt(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function Ft(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function Mt(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function Gt(e){if("string"!=typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,s=e.slice(n,n+2),i=Number.parseInt(s,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[r]=i}return t}function Ht(e){return Mt(Rt(e))}function qt(e){return e instanceof Uint8Array?Uint8Array.from(e):Gt(e)}function jt(e){if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"==typeof e&&Yt(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Qt(e,t=ft.P){const r=e%t;return r>=ct?r:t+r}function Vt(e,t){const{P:r}=ft;let n=e;for(;t-- >ct;)n*=n,n%=r;return n}function Kt(e,t=ft.P){if(e===ct||t<=ct)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Qt(e,t),n=t,s=ct,i=lt,a=lt,o=ct;for(;r!==ct;){const e=n/r,t=n%r,c=s-a*e,l=i-o*e;n=r,r=t,s=a,i=o,a=c,o=l}if(n!==lt)throw new Error("invert: does not exist");return Qt(s,t)}function zt(e,t=!1){const r=function(e){const t=8*e.length-8*yt,r=Ht(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;const{n}=ft;return r>=n?r-n:r}let Jt,Zt;class _t{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return ar.hmacSha256(this.k,...e)}hmacSync(...e){return Zt(this.k,...e)}checkSync(){if("function"!=typeof Zt)throw new Et("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return Bt(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return Bt(...t)}}function Yt(e){return ct<e&&e<ft.n}function Wt(e){return ct<e&&e<ft.P}function Xt(e,t,r,n=!0){const{n:s}=ft,i=zt(e,!0);if(!Yt(i))return;const a=Kt(i,s),o=Ct.BASE.multiply(i),c=Qt(o.x,s);if(c===ct)return;const l=Qt(a*Qt(t+r*c,s),s);if(l===ct)return;let u=new St(c,l),h=(o.x===u.r?0:2)|Number(o.y&lt);return n&&u.hasHighS()&&(u=u.normalizeS(),h^=1),{sig:u,recovery:h}}function $t(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"==typeof e){if(e.length!==2*yt)throw new Error("Expected 32 bytes of private key");t=Mt(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==yt)throw new Error("Expected 32 bytes of private key");t=Ht(e)}if(!Yt(t))throw new Error("Expected private key: 0 < key < n");return t}function er(e){const t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===wt||n===At:r?n===2*wt||n===2*At:e instanceof Ct}function tr(e){return Ht(e.length>mt?e.slice(0,mt):e)}function rr(e){const t=tr(e),r=Qt(t,ft.n);return nr(r<ct?t:r)}function nr(e){return Ut(e)}Ct.BASE._setWindowSize(8);const sr={node:ot,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},ir={},ar={bytesToHex:Rt,hexToBytes:Gt,concatBytes:Bt,mod:Qt,invert:Kt,isValidPrivateKey(e){try{return $t(e),!0}catch(e){return!1}},_bigintTo32Bytes:Ut,_normalizePrivateKey:$t,hashToPrivateKey:e=>{e=qt(e);const t=yt+8;if(e.length<t||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return Ut(Qt(Ht(e),ft.n-lt)+lt)},randomBytes:(e=32)=>{if(sr.web)return sr.web.getRandomValues(new Uint8Array(e));if(sr.node){const{randomBytes:t}=sr.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ar.hashToPrivateKey(ar.randomBytes(yt+8)),precompute(e=8,t=Ct.BASE){const r=t===Ct.BASE?t:new Ct(t.x,t.y);return r._setWindowSize(e),r.multiply(ht),r},sha256:async(...e)=>{if(sr.web){const t=await sr.web.subtle.digest("SHA-256",Bt(...e));return new Uint8Array(t)}if(sr.node){const{createHash:t}=sr.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(sr.web){const r=await sr.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Bt(...t),s=await sr.web.subtle.sign("HMAC",r,n);return new Uint8Array(s)}if(sr.node){const{createHmac:r}=sr.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=ir[e];if(void 0===r){const t=await ar.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=Bt(t,t),ir[e]=r}return ar.sha256(r,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof Jt)throw new Et("sha256Sync is undefined, you need to set it");let r=ir[e];if(void 0===r){const t=Jt(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=Bt(t,t),ir[e]=r}return Jt(r,...t)},_JacobianPoint:Tt};Object.defineProperties(ar,{sha256Sync:{configurable:!1,get:()=>Jt,set(e){Jt||(Jt=e)}},hmacSha256Sync:{configurable:!1,get:()=>Zt,set(e){Zt||(Zt=e)}}});var or=r(527),cr=r(979);class lr extends cr.kb{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,or.ZP.hash(e);const r=(0,cr.O0)(t);if(this.iHash=e.create(),!(this.iHash instanceof cr.kb))throw new TypeError("Expected instance of class which extends utils.Hash");const n=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=new Uint8Array(n);s.set(r.length>this.iHash.blockLen?e.create().update(r).digest():r);for(let e=0;e<s.length;e++)s[e]^=54;this.iHash.update(s),this.oHash=e.create();for(let e=0;e<s.length;e++)s[e]^=106;this.oHash.update(s),s.fill(0)}update(e){return or.ZP.exists(this),this.iHash.update(e),this}digestInto(e){or.ZP.exists(this),or.ZP.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:s,blockLen:i,outputLen:a}=this;return e.finished=n,e.destroyed=s,e.blockLen=i,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ur=(e,t,r)=>new lr(e,t).update(r).digest();ur.create=(e,t)=>new lr(e,t);class hr extends cr.kb{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,cr.GL)(this.buffer)}update(e){or.ZP.exists(this);const{view:t,buffer:r,blockLen:n}=this,s=(e=(0,cr.O0)(e)).length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);if(a!==n)r.set(e.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=(0,cr.GL)(e);for(;n<=s-i;i+=n)this.process(t,i)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){or.ZP.exists(this),or.ZP.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:s}=this;let{pos:i}=this;t[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>n-i&&(this.process(r,0),i=0);for(let e=i;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const s=BigInt(32),i=BigInt(4294967295),a=Number(r>>s&i),o=Number(r&i),c=n?4:0,l=n?0:4;e.setUint32(t+c,a,n),e.setUint32(t+l,o,n)}(r,n-8,BigInt(8*this.length),s),this.process(r,0);const a=(0,cr.GL)(e);this.get().forEach(((e,t)=>a.setUint32(4*t,e,s)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:s,destroyed:i,pos:a}=this;return e.length=n,e.pos=a,e.finished=s,e.destroyed=i,n%t&&e.buffer.set(r),e}}const dr=(e,t,r)=>e&t^e&r^t&r,fr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gr=new Uint32Array(64);class mr extends hr{constructor(){super(64,32,8,!1),this.A=0|pr[0],this.B=0|pr[1],this.C=0|pr[2],this.D=0|pr[3],this.E=0|pr[4],this.F=0|pr[5],this.G=0|pr[6],this.H=0|pr[7]}get(){const{A:e,B:t,C:r,D:n,E:s,F:i,G:a,H:o}=this;return[e,t,r,n,s,i,a,o]}set(e,t,r,n,s,i,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|s,this.F=0|i,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)gr[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=gr[e-15],r=gr[e-2],n=(0,cr.np)(t,7)^(0,cr.np)(t,18)^t>>>3,s=(0,cr.np)(r,17)^(0,cr.np)(r,19)^r>>>10;gr[e]=s+gr[e-7]+n+gr[e-16]|0}let{A:r,B:n,C:s,D:i,E:a,F:o,G:c,H:l}=this;for(let e=0;e<64;e++){const t=l+((0,cr.np)(a,6)^(0,cr.np)(a,11)^(0,cr.np)(a,25))+((u=a)&o^~u&c)+fr[e]+gr[e]|0,h=((0,cr.np)(r,2)^(0,cr.np)(r,13)^(0,cr.np)(r,22))+dr(r,n,s)|0;l=c,c=o,o=a,a=i+t|0,i=s,s=n,n=r,r=t+h|0}var u;r=r+this.A|0,n=n+this.B|0,s=s+this.C|0,i=i+this.D|0,a=a+this.E|0,o=o+this.F|0,c=c+this.G|0,l=l+this.H|0,this.set(r,n,s,i,a,o,c,l)}roundClean(){gr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const yr=(0,cr.hE)((()=>new mr));var wr=r(881);const[Ar,br]=wr.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))),vr=new Uint32Array(80),Er=new Uint32Array(80);class Pr extends hr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:s,Cl:i,Dh:a,Dl:o,Eh:c,El:l,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,s,i,a,o,c,l,u,h,d,f,p,g]}set(e,t,r,n,s,i,a,o,c,l,u,h,d,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|s,this.Cl=0|i,this.Dh=0|a,this.Dl=0|o,this.Eh=0|c,this.El=0|l,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)vr[r]=e.getUint32(t),Er[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|vr[e-15],r=0|Er[e-15],n=wr.ZP.rotrSH(t,r,1)^wr.ZP.rotrSH(t,r,8)^wr.ZP.shrSH(t,r,7),s=wr.ZP.rotrSL(t,r,1)^wr.ZP.rotrSL(t,r,8)^wr.ZP.shrSL(t,r,7),i=0|vr[e-2],a=0|Er[e-2],o=wr.ZP.rotrSH(i,a,19)^wr.ZP.rotrBH(i,a,61)^wr.ZP.shrSH(i,a,6),c=wr.ZP.rotrSL(i,a,19)^wr.ZP.rotrBL(i,a,61)^wr.ZP.shrSL(i,a,6),l=wr.ZP.add4L(s,c,Er[e-7],Er[e-16]),u=wr.ZP.add4H(l,n,o,vr[e-7],vr[e-16]);vr[e]=0|u,Er[e]=0|l}let{Ah:r,Al:n,Bh:s,Bl:i,Ch:a,Cl:o,Dh:c,Dl:l,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){const t=wr.ZP.rotrSH(u,h,14)^wr.ZP.rotrSH(u,h,18)^wr.ZP.rotrBH(u,h,41),w=wr.ZP.rotrSL(u,h,14)^wr.ZP.rotrSL(u,h,18)^wr.ZP.rotrBL(u,h,41),A=u&d^~u&p,b=h&f^~h&g,v=wr.ZP.add5L(y,w,b,br[e],Er[e]),E=wr.ZP.add5H(v,m,t,A,Ar[e],vr[e]),P=0|v,T=wr.ZP.rotrSH(r,n,28)^wr.ZP.rotrBH(r,n,34)^wr.ZP.rotrBH(r,n,39),k=wr.ZP.rotrSL(r,n,28)^wr.ZP.rotrBL(r,n,34)^wr.ZP.rotrBL(r,n,39),x=r&s^r&a^s&a,C=n&i^n&o^i&o;m=0|p,y=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=wr.ZP.add(0|c,0|l,0|E,0|P)),c=0|a,l=0|o,a=0|s,o=0|i,s=0|r,i=0|n;const I=wr.ZP.add3L(P,k,C);r=wr.ZP.add3H(I,E,T,x),n=0|I}({h:r,l:n}=wr.ZP.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:s,l:i}=wr.ZP.add(0|this.Bh,0|this.Bl,0|s,0|i)),({h:a,l:o}=wr.ZP.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:c,l}=wr.ZP.add(0|this.Dh,0|this.Dl,0|c,0|l)),({h:u,l:h}=wr.ZP.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=wr.ZP.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=wr.ZP.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=wr.ZP.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,s,i,a,o,c,l,u,h,d,f,p,g,m,y)}roundClean(){vr.fill(0),Er.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Tr extends Pr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class kr extends Pr{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const xr=(0,cr.hE)((()=>new Pr));(0,cr.hE)((()=>new Tr)),(0,cr.hE)((()=>new kr));const Cr=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();Cr.crypto||Cr.msCrypto;let Ir=!1;const Nr=function(e,t,r){return function(e,t){const r={sha256:yr,sha512:xr}[e];return(0,n.en)(null!=r,"invalid hmac algorithm","algorithm",e),ur.create(r,t)}(e,t).update(r).digest()};let Sr=Nr;function Br(e,t,r){const n=(0,c.Pw)(t,"key"),s=(0,c.Pw)(r,"data");return(0,c.Dv)(Sr(e,n,s))}Br._=Nr,Br.lock=function(){Ir=!0},Br.register=function(e){if(Ir)throw new Error("computeHmac is locked");Sr=e},Object.freeze(Br),ar.hmacSha256Sync=function(e,...t){return(0,c.Pw)(Br("sha256",e,(0,c.zo)(t)))};class Or{#C;constructor(e){(0,n.en)(32===(0,c.M5)(e),"invalid private key","privateKey","[REDACTED]"),this.#C=(0,c.Dv)(e)}get privateKey(){return this.#C}get publicKey(){return Or.computePublicKey(this.#C)}get compressedPublicKey(){return Or.computePublicKey(this.#C,!0)}sign(e){(0,n.en)(32===(0,c.M5)(e),"invalid digest length","digest",e);const[t,r]=function(e,t,r={}){const{seed:n,m:s,d:i}=function(e,t,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const n=qt(e),s=$t(t),i=[nr(s),rr(n)];if(null!=r){!0===r&&(r=ar.randomBytes(mt));const e=qt(r);if(e.length!==mt)throw new Error(`sign: Expected ${mt} bytes of extra data`);i.push(e)}return{seed:Bt(...i),m:tr(n),d:s}}(e,t,r.extraEntropy),a=new _t(32,yt);let o;for(a.reseedSync(n);!(o=Xt(a.generateSync(),s,i,r.canonical));)a.reseedSync();return function(e,t){const{sig:r,recovery:n}=e,{der:s,recovered:i}=Object.assign({canonical:!0,der:!0},t),a=s?r.toDERRawBytes():r.toCompactRawBytes();return i?[a,n]:a}(o,r)}((0,c.h_)(e),(0,c.h_)(this.#C),{recovered:!0,canonical:!0}),s=St.fromHex(t);return it.from({r:(0,l.m9)("0x"+s.r.toString(16),32),s:(0,l.m9)("0x"+s.s.toString(16),32),v:r?28:27})}computeSharedSecret(e){const t=Or.computePublicKey(e);return(0,c.Dv)(function(e,t,r=!1){if(er(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!er(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=(s=t)instanceof Ct?(s.assertValidity(),s):Ct.fromHex(s);var s;return n.assertValidity(),n.multiply($t(e)).toRawBytes(r)}((0,c.h_)(this.#C),(0,c.Pw)(t)))}static computePublicKey(e,t){let r=(0,c.Pw)(e,"key");if(32===r.length){const e=function(e,t=!1){return Ct.fromPrivateKey(e).toRawBytes(t)}(r,!!t);return(0,c.Dv)(e)}if(64===r.length){const e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}const n=Ct.fromHex(r);return(0,c.Dv)(n.toRawBytes(t))}static recoverPublicKey(e,t){(0,n.en)(32===(0,c.M5)(e),"invalid digest length","digest",e);const r=it.from(t),s=St.fromCompact((0,c.h_)((0,c.zo)([r.r,r.s]))).toDERRawBytes(),i=function(e,t,r,n=!1){return Ct.fromSignature(e,t,r).toRawBytes(n)}((0,c.h_)(e),s,r.yParity);return(0,n.en)(null!=i,"invalid signature for digest","signature",t),(0,c.Dv)(i)}static addPoints(e,t,r){const n=Ct.fromHex(Or.computePublicKey(e).substring(2)),s=Ct.fromHex(Or.computePublicKey(t).substring(2));return"0x"+n.add(s).toHex(!!r)}}function Rr(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}function Dr(e,t,r){let n=0;for(let s=0;s<r;s++)n=256*n+e[t+s];return n}function Lr(e,t,r,s){const i=[];for(;r<t+1+s;){const a=Ur(e,r);i.push(a.result),r+=a.consumed,(0,n.hu)(r<=t+1+s,"child data too short","BUFFER_OVERRUN",{buffer:e,length:s,offset:t})}return{consumed:1+s,result:i}}function Ur(e,t){(0,n.hu)(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});const r=t=>{(0,n.hu)(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){const n=e[t]-247;r(t+1+n);const s=Dr(e,t+1,n);return r(t+1+n+s),Lr(e,t,t+1+n,n+s)}if(e[t]>=192){const n=e[t]-192;return r(t+1+n),Lr(e,t,t+1,n)}if(e[t]>=184){const n=e[t]-183;r(t+1+n);const s=Dr(e,t+1,n);return r(t+1+n+s),{consumed:1+n+s,result:(0,c.Dv)(e.slice(t+1+n,t+1+n+s))}}if(e[t]>=128){const n=e[t]-128;return r(t+1+n),{consumed:1+n,result:(0,c.Dv)(e.slice(t+1,t+1+n))}}return{consumed:1,result:Rr(e[t])}}function Fr(e){const t=(0,c.Pw)(e,"data"),r=Ur(t,0);return(0,n.en)(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}function Mr(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Gr(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(Gr(e))})),t.length<=55)return t.unshift(192+t.length),t;const r=Mr(t.length);return r.unshift(247+r.length),r.concat(t)}const t=Array.prototype.slice.call((0,c.Pw)(e,"object"));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=Mr(t.length);return r.unshift(183+r.length),r.concat(t)}const Hr="0123456789abcdef";function qr(e){let t="0x";for(const r of Gr(e))t+=Hr[r>>4],t+=Hr[15&r];return t}const jr=BigInt(0),Qr=BigInt(2),Vr=BigInt(27),Kr=BigInt(28),zr=BigInt(35),Jr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Zr(e){return"0x"===e?null:(0,i.K)(e)}function _r(e,t){try{return(0,x.z)(e)}catch(r){(0,n.en)(!1,r.message,t,e)}}function Yr(e,t){return"0x"===e?0:(0,l.Dx)(e,t)}function Wr(e,t){if("0x"===e)return jr;const r=(0,l.yT)(e,t);return(0,n.en)(r<=Jr,"value exceeds uint size",t,r),r}function Xr(e,t){const r=(0,l.yT)(e,"value"),s=(0,l.ot)(r);return(0,n.en)(s.length<=32,"value too large",`tx.${t}`,r),s}function $r(e){return(0,x.z)(e).map((e=>[e.address,e.storageKeys]))}function en(e,t){const r=[Xr(e.nonce||0,"nonce"),Xr(e.gasPrice||0,"gasPrice"),Xr(e.gasLimit||0,"gasLimit"),null!=e.to?(0,i.K)(e.to):"0x",Xr(e.value||0,"value"),e.data||"0x"];let s=jr;if(e.chainId!=jr)s=(0,l.yT)(e.chainId,"tx.chainId"),(0,n.en)(!t||null==t.networkV||t.legacyChainId===s,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){const t=e.signature.legacyChainId;null!=t&&(s=t)}if(!t)return s!==jr&&(r.push((0,l.ot)(s)),r.push("0x"),r.push("0x")),qr(r);let a=BigInt(27+t.yParity);return s!==jr?a=it.getChainIdV(s,t.v):BigInt(t.v)!==a&&(0,n.en)(!1,"tx.chainId/sig.v mismatch","sig",t),r.push((0,l.ot)(a)),r.push((0,l.ot)(t.r)),r.push((0,l.ot)(t.s)),qr(r)}function tn(e,t){let r;try{if(r=Yr(t[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(e){(0,n.en)(!1,"invalid yParity","yParity",t[0])}const s=(0,c.U3)(t[1],32),i=(0,c.U3)(t[2],32),a=it.from({r:s,s:i,yParity:r});e.signature=a}function rn(e,t){const r=[Xr(e.chainId||0,"chainId"),Xr(e.nonce||0,"nonce"),Xr(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Xr(e.maxFeePerGas||0,"maxFeePerGas"),Xr(e.gasLimit||0,"gasLimit"),null!=e.to?(0,i.K)(e.to):"0x",Xr(e.value||0,"value"),e.data||"0x",$r(e.accessList||[])];return t&&(r.push(Xr(t.yParity,"yParity")),r.push((0,l.ot)(t.r)),r.push((0,l.ot)(t.s))),(0,c.zo)(["0x02",qr(r)])}function nn(e,t){const r=[Xr(e.chainId||0,"chainId"),Xr(e.nonce||0,"nonce"),Xr(e.gasPrice||0,"gasPrice"),Xr(e.gasLimit||0,"gasLimit"),null!=e.to?(0,i.K)(e.to):"0x",Xr(e.value||0,"value"),e.data||"0x",$r(e.accessList||[])];return t&&(r.push(Xr(t.yParity,"recoveryParam")),r.push((0,l.ot)(t.r)),r.push((0,l.ot)(t.s))),(0,c.zo)(["0x01",qr(r)])}class sn{#I;#N;#r;#S;#B;#O;#R;#D;#L;#U;#F;#M;get type(){return this.#I}set type(e){switch(e){case null:this.#I=null;break;case 0:case"legacy":this.#I=0;break;case 1:case"berlin":case"eip-2930":this.#I=1;break;case 2:case"london":case"eip-1559":this.#I=2;break;default:(0,n.en)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}get to(){return this.#N}set to(e){this.#N=null==e?null:(0,i.K)(e)}get nonce(){return this.#S}set nonce(e){this.#S=(0,l.Dx)(e,"value")}get gasLimit(){return this.#B}set gasLimit(e){this.#B=(0,l.yT)(e)}get gasPrice(){const e=this.#O;return null!=e||0!==this.type&&1!==this.type?e:jr}set gasPrice(e){this.#O=null==e?null:(0,l.yT)(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#R;return null==e?2===this.type?jr:null:e}set maxPriorityFeePerGas(e){this.#R=null==e?null:(0,l.yT)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#D;return null==e?2===this.type?jr:null:e}set maxFeePerGas(e){this.#D=null==e?null:(0,l.yT)(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=(0,c.Dv)(e)}get value(){return this.#L}set value(e){this.#L=(0,l.yT)(e,"value")}get chainId(){return this.#U}set chainId(e){this.#U=(0,l.yT)(e)}get signature(){return this.#F||null}set signature(e){this.#F=null==e?null:it.from(e)}get accessList(){const e=this.#M||null;return null==e?1===this.type||2===this.type?[]:null:e}set accessList(e){this.#M=null==e?null:(0,x.z)(e)}constructor(){this.#I=null,this.#N=null,this.#S=0,this.#B=BigInt(0),this.#O=null,this.#R=null,this.#D=null,this.#r="0x",this.#L=BigInt(0),this.#U=BigInt(0),this.#F=null,this.#M=null}get hash(){return null==this.signature?null:(0,o.w)(this.serialized)}get unsignedHash(){return(0,o.w)(this.unsignedSerialized)}get from(){return null==this.signature?null:(e=this.unsignedHash,t=this.signature,function(e){let t;return t="string"==typeof e?Or.computePublicKey(e,!1):e.publicKey,(0,i.K)((0,o.w)("0x"+t.substring(4)).substring(26))}(Or.recoverPublicKey(e,t)));var e,t}get fromPublicKey(){return null==this.signature?null:Or.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}get serialized(){switch((0,n.hu)(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return en(this,this.signature);case 1:return nn(this,this.signature);case 2:return rn(this,this.signature)}(0,n.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get unsignedSerialized(){switch(this.inferType()){case 0:return en(this);case 1:return nn(this);case 2:return rn(this)}(0,n.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}inferType(){return this.inferTypes().pop()}inferTypes(){const e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,n.hu)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,n.hu)(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,n.hu)(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return null!=this.type?s.push(this.type):t?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(s.push(0),s.push(1),s.push(2)),s.sort(),s}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}clone(){return sn.from(this)}toJSON(){const e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new sn;if("string"==typeof e){const t=(0,c.Pw)(e);if(t[0]>=127)return sn.from(function(e){const t=Fr(e);(0,n.en)(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);const r={type:0,nonce:Yr(t[0],"nonce"),gasPrice:Wr(t[1],"gasPrice"),gasLimit:Wr(t[2],"gasLimit"),to:Zr(t[3]),value:Wr(t[4],"value"),data:(0,c.Dv)(t[5]),chainId:jr};if(6===t.length)return r;const s=Wr(t[6],"v"),i=Wr(t[7],"r"),a=Wr(t[8],"s");if(i===jr&&a===jr)r.chainId=s;else{let i=(s-zr)/Qr;i<jr&&(i=jr),r.chainId=i,(0,n.en)(i!==jr||s===Vr||s===Kr,"non-canonical legacy v","v",t[6]),r.signature=it.from({r:(0,c.U3)(t[7],32),s:(0,c.U3)(t[8],32),v:s}),r.hash=(0,o.w)(e)}return r}(t));switch(t[0]){case 1:return sn.from(function(e){const t=Fr((0,c.Pw)(e).slice(1));(0,n.en)(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",(0,c.Dv)(e));const r={type:1,chainId:Wr(t[0],"chainId"),nonce:Yr(t[1],"nonce"),gasPrice:Wr(t[2],"gasPrice"),gasLimit:Wr(t[3],"gasLimit"),to:Zr(t[4]),value:Wr(t[5],"value"),data:(0,c.Dv)(t[6]),accessList:_r(t[7],"accessList")};return 8===t.length||(r.hash=(0,o.w)(e),tn(r,t.slice(8))),r}(t));case 2:return sn.from(function(e){const t=Fr((0,c.Pw)(e).slice(1));(0,n.en)(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",(0,c.Dv)(e));const r=Wr(t[2],"maxPriorityFeePerGas"),s=Wr(t[3],"maxFeePerGas"),i={type:2,chainId:Wr(t[0],"chainId"),nonce:Yr(t[1],"nonce"),maxPriorityFeePerGas:r,maxFeePerGas:s,gasPrice:null,gasLimit:Wr(t[4],"gasLimit"),to:Zr(t[5]),value:Wr(t[6],"value"),data:(0,c.Dv)(t[7]),accessList:_r(t[8],"accessList")};return 9===t.length||(i.hash=(0,o.w)(e),tn(i,t.slice(9))),i}(t))}(0,n.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new sn;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=it.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.hash&&((0,n.en)(t.isSigned(),"unsigned transaction cannot define hash","tx",e),(0,n.en)(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&((0,n.en)(t.isSigned(),"unsigned transaction cannot define from","tx",e),(0,n.en)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}let an=async function(e,t){const r=e.url.split(":")[0].toLowerCase();let s;if((0,n.hu)("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),(0,n.hu)("https"===r||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),t){const e=new AbortController;s=e.signal,t.addListener((()=>{e.abort()}))}const i={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:s},a=await fetch(e.url,i),o={};a.headers.forEach(((e,t)=>{o[t.toLowerCase()]=e}));const c=await a.arrayBuffer(),l=null==c?null:new Uint8Array(c);return{statusCode:a.status,statusMessage:a.statusText,headers:o,body:l}};const on=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),cn=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let ln=!1;async function un(e,t){try{const t=e.match(on);if(!t)throw new Error("invalid data");return new yn(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){e=atob(e);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return(0,c.Pw)(t)}(t[3]):(r=t[3],(0,C.Y0)(r.replace(/%([0-9a-f][0-9a-f])/gi,((e,t)=>String.fromCharCode(parseInt(t,16)))))))}catch(t){return new yn(599,"BAD REQUEST (invalid data: URI)",{},null,new mn(e))}var r}function hn(e){return async function(t,r){try{const r=t.match(cn);if(!r)throw new Error("invalid link");return new mn(`${e}${r[2]}`)}catch(e){return new yn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new mn(t))}}}const dn={data:un,ipfs:hn("https://gateway.ipfs.io/ipfs/")},fn=new WeakMap;class pn{#G;#H;constructor(e){this.#G=[],this.#H=!1,fn.set(e,(()=>{if(!this.#H){this.#H=!0;for(const e of this.#G)setTimeout((()=>{e()}),0);this.#G=[]}}))}addListener(e){(0,n.hu)(!this.#H,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#G.push(e)}get cancelled(){return this.#H}checkSignal(){(0,n.hu)(!this.cancelled,"cancelled","CANCELLED",{})}}function gn(e){if(null==e)throw new Error("missing signal; should not happen");return e.checkSignal(),e}class mn{#q;#j;#Q;#V;#K;#z;#J;#Z;#_;#Y;#W;#X;#$;#ee;get url(){return this.#z}set url(e){this.#z=String(e)}get body(){return null==this.#J?null:new Uint8Array(this.#J)}set body(e){if(null==e)this.#J=void 0,this.#Z=void 0;else if("string"==typeof e)this.#J=(0,C.Y0)(e),this.#Z="text/plain";else if(e instanceof Uint8Array)this.#J=e,this.#Z="application/octet-stream";else{if("object"!=typeof e)throw new Error("invalid body");this.#J=(0,C.Y0)(JSON.stringify(e)),this.#Z="application/json"}}hasBody(){return null!=this.#J}get method(){return this.#V?this.#V:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#V=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#Q);return this.#_&&(e.authorization=`Basic ${function(e){const t=(0,c.Pw)(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}((0,C.Y0)(this.#_))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#Z&&(e["content-type"]=this.#Z),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#Q[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#Q={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#_||null}setCredentials(e,t){(0,n.en)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#_=`${e}:${t}`}get allowGzip(){return this.#j}set allowGzip(e){this.#j=!!e}get allowInsecureAuthentication(){return!!this.#q}set allowInsecureAuthentication(e){this.#q=!!e}get timeout(){return this.#K}set timeout(e){(0,n.en)(e>=0,"timeout must be non-zero","timeout",e),this.#K=e}get preflightFunc(){return this.#Y||null}set preflightFunc(e){this.#Y=e}get processFunc(){return this.#W||null}set processFunc(e){this.#W=e}get retryFunc(){return this.#X||null}set retryFunc(e){this.#X=e}constructor(e){this.#z=String(e),this.#q=!1,this.#j=!0,this.#Q={},this.#V="",this.#K=3e5,this.#ee={slotInterval:250,maxAttempts:12}}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#J?(0,c.Dv)(this.#J):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#ee.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#ee.maxAttempts=e.maxAttempts)}async#te(e,t,r,s,i){if(e>=this.#ee.maxAttempts)return i.makeServerError("exceeded maximum retry limit");(0,n.hu)(wn()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await function(e){return new Promise((t=>setTimeout(t,e)))}(r);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in dn){const e=await dn[o](a.url,gn(s.#$));if(e instanceof yn){let t=e;if(this.processFunc){gn(s.#$);try{t=await this.processFunc(a,t)}catch(e){null!=e.throttle&&"number"==typeof e.stall||t.makeServerError("error in post-processing function",e).assertOk()}}return t}a=e}this.preflightFunc&&(a=await this.preflightFunc(a));const c=await an(a,gn(s.#$));let l=new yn(c.statusCode,c.statusMessage,c.headers,c.body,s);if(301===l.statusCode||302===l.statusCode){try{const r=l.headers.location||"";return a.redirect(r).#te(e+1,t,0,s,l)}catch(e){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(a,l,e))){const r=l.headers["retry-after"];let n=this.#ee.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(n=parseInt(r)),a.clone().#te(e+1,t,n,s,l)}if(this.processFunc){gn(s.#$);try{l=await this.processFunc(a,l)}catch(r){null!=r.throttle&&"number"==typeof r.stall||l.makeServerError("error in post-processing function",r).assertOk();let n=this.#ee.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return r.stall>=0&&(n=r.stall),a.clone().#te(e+1,t,n,s,l)}}return l}send(){return(0,n.hu)(null==this.#$,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#$=new pn(this),this.#te(0,wn()+this.timeout,0,this,new yn(0,"",{},null,this))}cancel(){(0,n.hu)(null!=this.#$,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=fn.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();(0,n.hu)("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new mn(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#Q=Object.assign({},this.#Q),this.#J&&(s.#J=new Uint8Array(this.#J)),s.#Z=this.#Z,s}clone(){const e=new mn(this.url);return e.#V=this.#V,this.#J&&(e.#J=this.#J),e.#Z=this.#Z,e.#Q=Object.assign({},this.#Q),e.#_=this.#_,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#Y=this.#Y,e.#W=this.#W,e.#X=this.#X,e}static lockConfig(){ln=!0}static getGateway(e){return dn[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(ln)throw new Error("gateways locked");dn[e]=t}static registerGetUrl(e){if(ln)throw new Error("gateways locked");an=e}static createDataGateway(){return un}static createIpfsGatewayFunc(e){return hn(e)}}class yn{#re;#ne;#Q;#J;#se;#ie;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#J?(0,c.Dv)(this.#J):"null"}>`}get statusCode(){return this.#re}get statusMessage(){return this.#ne}get headers(){return Object.assign({},this.#Q)}get body(){return null==this.#J?null:new Uint8Array(this.#J)}get bodyText(){try{return null==this.#J?"":(0,C.ZN)(this.#J)}catch(e){(0,n.hu)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,n.hu)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,s){this.#re=e,this.#ne=t,this.#Q=Object.keys(r).reduce(((e,t)=>(e[t.toLowerCase()]=String(r[t]),e)),{}),this.#J=null==n?null:new Uint8Array(n),this.#se=s||null,this.#ie={message:""}}makeServerError(e,t){let r;r=e?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:`CLIENT ESCALATED SERVER ERROR (${e=`${this.statusCode} ${this.statusMessage}`})`;const n=new yn(599,r,this.headers,this.body,this.#se||void 0);return n.#ie={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:(0,n.en)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw(0,u.h)(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#J}get request(){return this.#se}ok(){return""===this.#ie.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#ie;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`),(0,n.hu)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t})}}function wn(){return(new Date).getTime()}var An=r(539);BigInt(0);const bn=BigInt(58);function vn(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,n.en)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class En{name;constructor(e){(0,u.h)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const Pn=new RegExp("^(ipfs)://(.*)$","i"),Tn=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Pn,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class kn{provider;address;name;#ae;#oe;constructor(e,t,r){(0,u.h)(this,{provider:e,address:t,name:r}),this.#ae=null,this.#oe=new N.CH(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ae&&(this.#ae=(async()=>{try{return await this.#oe.supportsInterface("0x9061b923")}catch(e){if((0,n.VZ)(e,"CALL_EXCEPTION"))return!1;throw this.#ae=null,e}})()),await this.#ae}async#ce(e,t){t=(t||[]).slice();const r=this.#oe.interface;t.unshift(_e(this.name));let s=null;var i;await this.supportsWildcard()&&(s=r.getFunction(e),(0,n.hu)(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(i=this.name,(0,c.Dv)((0,c.zo)(Ze(i).map((e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t}))))+"00"),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const n=await this.#oe[e](...t);return s?r.decodeFunctionResult(s,n)[0]:n}catch(e){if(!(0,n.VZ)(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{const e=await this.#ce("addr(bytes32)");return null==e||e===I?null:e}catch(e){if((0,n.VZ)(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648;const r=await this.#ce("addr(bytes32,uint)",[t]);if((0,c.A7)(r,20))return(0,i.K)(r)}let t=null;for(const r of this.provider.plugins)if(r instanceof En&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;const r=await this.#ce("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;const s=await t.decodeAddress(e,r);if(null!=s)return s;(0,n.hu)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await this.#ce("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){const e=await this.#ce("contenthash(bytes32)");if(null==e||"0x"===e)return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${function(e){let t=(0,l.Gh)((0,c.Pw)(e)),r="";for(;t;)r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"[Number(t%bn)]+r,t/=bn;return r}("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;(0,n.hu)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<Tn.length;r++){const n=t.match(Tn[r]);if(null==n)continue;const s=n[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const r=vn(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{const r="erc721"===s?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:t});const i=await this.getAddress();if(null==i)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const a=(n[2]||"").split("/");if(2!==a.length)return e.push({type:`!${s}caip`,value:n[2]||""}),{url:null,linkage:e};const o=a[1],u=new N.CH(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===s){const t=await u.ownerOf(o);if(i!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===s){const t=await u.balanceOf(i,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let h=await u[r](o);if(null==h||"0x"===h)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:h}),"erc1155"===s&&(h=h.replace("{id}",(0,l.m9)(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:h})),h.match(/^ipfs:/i)&&(h=vn(h)),e.push({type:"metadata-url",value:h});let d={};const f=await new mn(h).send();f.assertOk();try{d=f.bodyJson}catch(t){try{e.push({type:"!metadata",value:f.bodyText})}catch(t){const r=f.body;return r&&e.push({type:"!metadata",value:(0,c.Dv)(r)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let p=d.image;if("string"!=typeof p)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(p.match(/^(https:\/\/|data:)/i));else{if(null==p.match(Pn))return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=vn(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return(0,n.hu)(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async#le(e,t){const r=await kn.getEnsAddress(e);try{const n=new N.CH(r,["function resolver(bytes32) view returns (address)"],e),s=await n.resolver(_e(t),{enableCcipRead:!0});return s===I?null:s}catch(e){throw e}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r)return null;if("eth"!==t&&"eth"===r)return null;const n=await kn.#le(e,r);if(null!=n){const s=new kn(e,n,t);return r===t||await s.supportsWildcard()?s:null}r=r.split(".").slice(1).join(".")}}}const xn=BigInt(0);function Cn(e,t){return function(r){return null==r?t:e(r)}}function In(e){return t=>{if(!Array.isArray(t))throw new Error("not an array");return t.map((t=>e(t)))}}function Nn(e,t){return r=>{const s={};for(const i in e){let a=i;if(t&&i in t&&!(a in r))for(const e of t[i])if(e in r){a=e;break}try{const t=e[i](r[a]);void 0!==t&&(s[i]=t)}catch(e){const t=e instanceof Error?e.message:"not-an-error";(0,n.hu)(!1,`invalid value for value.${i} (${t})`,"BAD_DATA",{value:r})}}return s}}function Sn(e){return(0,n.en)((0,c.A7)(e,!0),"invalid data","value",e),e}function Bn(e){return(0,n.en)((0,c.A7)(e,32),"invalid hash","value",e),e}const On=Nn({address:i.K,blockHash:Bn,blockNumber:l.Dx,data:Sn,index:l.Dx,removed:Cn((function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,n.en)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)}),!1),topics:In(Bn),transactionHash:Bn,transactionIndex:l.Dx},{index:["logIndex"]}),Rn=Nn({hash:Cn(Bn),parentHash:Bn,number:l.Dx,timestamp:l.Dx,nonce:Cn(Sn),difficulty:l.yT,gasLimit:l.yT,gasUsed:l.yT,miner:Cn(i.K),extraData:Sn,baseFeePerGas:Cn(l.yT)}),Dn=Nn({transactionIndex:l.Dx,blockNumber:l.Dx,transactionHash:Bn,address:i.K,topics:In(Bn),data:Sn,index:l.Dx,blockHash:Bn},{index:["logIndex"]}),Ln=Nn({to:Cn(i.K,null),from:Cn(i.K,null),contractAddress:Cn(i.K,null),index:l.Dx,root:Cn(c.Dv),gasUsed:l.yT,logsBloom:Cn(Sn),blockHash:Bn,hash:Bn,logs:In((function(e){return Dn(e)})),blockNumber:l.Dx,cumulativeGasUsed:l.yT,effectiveGasPrice:Cn(l.yT),status:Cn(l.Dx),type:Cn(l.Dx,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function Un(e){e.to&&(0,l.yT)(e.to)===xn&&(e.to="0x0000000000000000000000000000000000000000");const t=Nn({hash:Bn,type:e=>"0x"===e||null==e?0:(0,l.Dx)(e),accessList:Cn(x.z,null),blockHash:Cn(Bn,null),blockNumber:Cn(l.Dx,null),transactionIndex:Cn(l.Dx,null),from:i.K,gasPrice:Cn(l.yT),maxPriorityFeePerGas:Cn(l.yT),maxFeePerGas:Cn(l.yT),gasLimit:l.yT,to:Cn(i.K,null),value:l.yT,nonce:l.Dx,data:Sn,creates:Cn(i.K,null),chainId:Cn(l.yT,null)},{data:["input"],gasLimit:["gas"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){const t=(0,i.K)(e.from);let r=(0,l.yT)(e.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,(0,i.K)((0,c.QB)((0,o.w)(qr([t,r])),12))}(t)),1!==e.type&&2!==e.type||null!=e.accessList||(t.accessList=[]),e.signature?t.signature=it.from(e.signature):t.signature=it.from(e),null==t.chainId){const e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&(0,l.yT)(t.blockHash)===xn&&(t.blockHash=null),t}class Fn{name;constructor(e){(0,u.h)(this,{name:e})}clone(){return new Fn(this.name)}}class Mn extends Fn{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function s(e,s){let i=(t||{})[e];null==i&&(i=s),(0,n.en)("number"==typeof i,`invalud value for ${e}`,"costs",t),r[e]=i}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),(0,u.h)(this,r)}clone(){return new Mn(this.effectiveBlock,this)}}class Gn extends Fn{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,u.h)(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new Gn(this.address,this.targetNetwork)}}class Hn extends Fn{#z;#ue;get url(){return this.#z}get processFunc(){return this.#ue}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#z=e,this.#ue=t}clone(){return this}}const qn=new Map;class jn{#he;#U;#de;constructor(e,t){this.#he=e,this.#U=(0,l.yT)(t),this.#de=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#he}set name(e){this.#he=e}get chainId(){return this.#U}set chainId(e){this.#U=(0,l.yT)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,l.yT)(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,l.yT)(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,l.yT)(e.chainId)}catch(e){}return!1}return null!=e.name&&this.name===e.name}return!1}get plugins(){return Array.from(this.#de.values())}attachPlugin(e){if(this.#de.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#de.set(e.name,e.clone()),this}getPlugin(e){return this.#de.get(e)||null}getPlugins(e){return this.plugins.filter((t=>t.name.split("#")[0]===e))}clone(){const e=new jn(this.name,this.chainId);return this.plugins.forEach((t=>{e.attachPlugin(t.clone())})),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Mn;let r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const n=(0,x.z)(e.accessList);for(const e in n)r+=t.txAccessListAddress+t.txAccessListStorageKey*n[e].storageKeys.length}return r}static from(e){if(function(){var e;Kn||(Kn=!0,t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[Vn("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Vn("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[(e=BigInt("1000000"),new Hn("data:",(async(t,r,n)=>{const s=await t();if(null==s.maxFeePerGas||null==s.maxPriorityFeePerGas)return s;const i=s.maxFeePerGas-s.maxPriorityFeePerGas;return{gasPrice:s.gasPrice,maxFeePerGas:i+e,maxPriorityFeePerGas:e}})))]}),t("optimism-goerli",420,{}),t("xdai",100,{ensNetwork:1}));function t(e,t,r){const n=function(){const n=new jn(e,t);return null!=r.ensNetwork&&n.attachPlugin(new Gn(null,r.ensNetwork)),n.attachPlugin(new Mn),(r.plugins||[]).forEach((e=>{n.attachPlugin(e)})),n};jn.register(e,n),jn.register(t,n),r.altNames&&r.altNames.forEach((e=>{jn.register(e,n)}))}}(),null==e)return jn.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){const t=qn.get(e);if(t)return t();if("bigint"==typeof e)return new jn("unknown",e);(0,n.en)(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){(0,n.en)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);const t=new jn(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new Gn(e.ensAddress,e.ensNetwork)),t}(0,n.en)(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));const r=qn.get(e);r&&(0,n.en)(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),qn.set(e,t)}}function Qn(e,t){const r=String(e);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${e}`);const n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw new Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function Vn(e){return new Hn(e,(async(e,t,r)=>{let s;r.setHeader("User-Agent","ethers");try{const[t,n]=await Promise.all([r.send(),e()]);s=t;const i=s.bodyJson.standard;return{gasPrice:n.gasPrice,maxFeePerGas:Qn(i.maxFee,9),maxPriorityFeePerGas:Qn(i.maxPriorityFee,9)}}catch(e){(0,n.hu)(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:e})}}))}let Kn=!1;var zn=r(101);function Jn(e){return JSON.parse(JSON.stringify(e))}class Zn{#fe;#pe;#ge;#me;constructor(e){this.#fe=e,this.#pe=null,this.#ge=4e3,this.#me=-2}get pollingInterval(){return this.#ge}set pollingInterval(e){this.#ge=e}async#ye(){try{const e=await this.#fe.getBlockNumber();if(-2===this.#me)return void(this.#me=e);if(e!==this.#me){for(let t=this.#me+1;t<=e;t++){if(null==this.#pe)return;await this.#fe.emit("block",t)}this.#me=e}}catch(e){}null!=this.#pe&&(this.#pe=this.#fe._setTimeout(this.#ye.bind(this),this.#ge))}start(){this.#pe||(this.#pe=this.#fe._setTimeout(this.#ye.bind(this),this.#ge),this.#ye())}stop(){this.#pe&&(this.#fe._clearTimeout(this.#pe),this.#pe=null)}pause(e){this.stop(),e&&(this.#me=-2)}resume(){this.start()}}class _n{#fe;#ye;#we;constructor(e){this.#fe=e,this.#we=!1,this.#ye=e=>{this._poll(e,this.#fe)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#we||(this.#we=!0,this.#ye(-2),this.#fe.on("block",this.#ye))}stop(){this.#we&&(this.#we=!1,this.#fe.off("block",this.#ye))}pause(e){this.stop()}resume(){this.start()}}class Yn extends _n{#w;constructor(e,t){super(e),this.#w=Jn(t)}async _poll(e,t){throw new Error("@TODO")}}class Wn extends _n{#Ae;constructor(e,t){super(e),this.#Ae=t}async _poll(e,t){const r=await t.getTransactionReceipt(this.#Ae);r&&t.emit(this.#Ae,r)}}class Xn{#fe;#w;#pe;#we;#me;constructor(e,t){this.#fe=e,this.#w=Jn(t),this.#pe=this.#ye.bind(this),this.#we=!1,this.#me=-2}async#ye(e){if(-2===this.#me)return;const t=Jn(this.#w);t.fromBlock=this.#me+1,t.toBlock=e;const r=await this.#fe.getLogs(t);if(0!==r.length)for(const e of r)this.#fe.emit(this.#w,e),this.#me=e.blockNumber;else this.#me<e-60&&(this.#me=e-60)}start(){this.#we||(this.#we=!0,-2===this.#me&&this.#fe.getBlockNumber().then((e=>{this.#me=e})),this.#fe.on("block",this.#pe))}stop(){this.#we&&(this.#we=!1,this.#fe.off("block",this.#pe))}pause(e){this.stop(),e&&(this.#me=-2)}resume(){this.start()}}const $n=BigInt(2);function es(e){return e&&"function"==typeof e.then}function ts(e,t){return e+":"+JSON.stringify(t,((e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){const e=Object.keys(t);return e.sort(),e.reduce(((e,r)=>(e[r]=t[r],e)),{})}return t}))}class rs{name;constructor(e){(0,u.h)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function ns(e){return(e=Array.from(new Set(e).values())).sort(),e}async function ss(e,t){if(null==e)throw new Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"pending":case"debug":case"error":case"network":return{type:e,tag:e}}if((0,c.A7)(e,32)){const t=e.toLowerCase();return{type:"transaction",tag:ts("tx",{hash:t}),hash:t}}if(e.orphan){const t=e;return{type:"orphan",tag:ts("orphan",t),filter:(r=t,JSON.parse(JSON.stringify(r)))}}var r;if(e.address||e.topics){const r=e,n={topics:(r.topics||[]).map((e=>null==e?null:Array.isArray(e)?ns(e.map((e=>e.toLowerCase()))):e.toLowerCase()))};if(r.address){const e=[],s=[],i=r=>{(0,c.A7)(r)?e.push(r):s.push((async()=>{e.push(await(0,a.ru)(r,t))})())};Array.isArray(r.address)?r.address.forEach(i):i(r.address),s.length&&await Promise.all(s),n.address=ns(e.map((e=>e.toLowerCase())))}return{filter:n,tag:ts("event",n),type:"event"}}(0,n.en)(!1,"unknown ProviderEvent","event",e)}function is(){return(new Date).getTime()}const as={cacheTimeout:250,pollingInterval:4e3};class os{#be;#de;#ve;#Ee;#Pe;#Te;#ke;#xe;#Ce;#Ie;#Ne;#u;constructor(e,t){if(this.#u=Object.assign({},as,t||{}),"any"===e)this.#Te=!0,this.#Pe=null;else if(e){const t=jn.from(e);this.#Te=!1,this.#Pe=Promise.resolve(t),setTimeout((()=>{this.emit("network",t,null)}),0)}else this.#Te=!1,this.#Pe=null;this.#xe=-1,this.#ke=new Map,this.#be=new Map,this.#de=new Map,this.#ve=null,this.#Ee=!1,this.#Ce=1,this.#Ie=new Map,this.#Ne=!1}get pollingInterval(){return this.#u.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#de.values())}attachPlugin(e){if(this.#de.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#de.set(e.name,e.connect(this)),this}getPlugin(e){return this.#de.get(e)||null}get disableCcipRead(){return this.#Ne}set disableCcipRead(e){this.#Ne=!!e}async#Se(e){const t=this.#u.cacheTimeout;if(t<0)return await this._perform(e);const r=ts(e.method,e);let n=this.#ke.get(r);return n||(n=this._perform(e),this.#ke.set(r,n),setTimeout((()=>{this.#ke.get(r)===n&&this.#ke.delete(r)}),t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;const s=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let t=0;t<r.length;t++){const o=r[t],c=o.replace("{sender}",s).replace("{data}",i),l=new mn(c);-1===o.indexOf("{data}")&&(l.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:r});let u="unknown error";const h=await l.send();try{const e=h.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(u=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}(0,n.hu)(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${u}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:u}}),a.push(u)}(0,n.hu)(!1,`error encountered during CCIP fetch: ${a.map((e=>JSON.stringify(e))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,t){return new zn.gO(function(e){const t=Rn(e);return t.transactions=e.transactions.map((e=>"string"==typeof e?e:Un(e))),t}(e),this)}_wrapLog(e,t){return new zn.Zb(function(e){return On(e)}(e),this)}_wrapTransactionReceipt(e,t){return new zn.IX(function(e){return Ln(e)}(e),this)}_wrapTransactionResponse(e,t){return new zn.Mw(Un(e),this)}_detectNetwork(){(0,n.hu)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,n.hu)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=(0,l.Dx)(await this.#Se({method:"getBlockNumber"}),"%response");return this.#xe>=0&&(this.#xe=e),e}_getAddress(e){return(0,a.ru)(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}return(0,c.A7)(e)?(0,c.A7)(e,32)?e:(0,l.B4)(e):("bigint"==typeof e&&(e=(0,l.Dx)(e,"blockTag")),"number"==typeof e?e>=0?(0,l.B4)(e):this.#xe>=0?(0,l.B4)(this.#xe+e):this.getBlockNumber().then((t=>(0,l.B4)(t+e))):void(0,n.en)(!1,"invalid blockTag","blockTag",e))}_getFilter(e){const t=(e.topics||[]).map((e=>null==e?null:Array.isArray(e)?ns(e.map((e=>e.toLowerCase()))):e.toLowerCase())),r="blockHash"in e?e.blockHash:void 0,n=(e,n,s)=>{let i;switch(e.length){case 0:break;case 1:i=e[0];break;default:e.sort(),i=e}if(r&&(null!=n||null!=s))throw new Error("invalid filter");const a={};return i&&(a.address=i),t.length&&(a.topics=t),n&&(a.fromBlock=n),s&&(a.toBlock=s),r&&(a.blockHash=r),a};let s,i,a=[];if(e.address)if(Array.isArray(e.address))for(const t of e.address)a.push(this._getAddress(t));else a.push(this._getAddress(e.address));return"fromBlock"in e&&(s=this._getBlockTag(e.fromBlock)),"toBlock"in e&&(i=this._getBlockTag(e.toBlock)),a.filter((e=>"string"!=typeof e)).length||null!=s&&"string"!=typeof s||null!=i&&"string"!=typeof i?Promise.all([Promise.all(a),s,i]).then((e=>n(e[0],e[1],e[2]))):n(a,s,i)}_getTransactionRequest(e){const t=(0,zn.kK)(e),r=[];if(["to","from"].forEach((e=>{if(null==t[e])return;const n=(0,a.ru)(t[e]);es(n)?r.push(async function(){t[e]=await n}()):t[e]=n})),null!=t.blockTag){const e=this._getBlockTag(t.blockTag);es(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#Pe){const e=this._detectNetwork().then((e=>(this.emit("network",e,null),e)),(t=>{throw this.#Pe===e&&(this.#Pe=null),t}));return this.#Pe=e,(await e).clone()}const e=this.#Pe,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#Te?(this.emit("network",r,t),this.#Pe===e&&(this.#Pe=Promise.resolve(r))):(0,n.hu)(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:t,gasPrice:r}=await(0,u.m)({_block:this.#Be("latest",!1),gasPrice:(async()=>{try{const e=await this.#Se({method:"getGasPrice"});return(0,l.yT)(e,"%response")}catch(e){}return null})()});let n=null,s=null;const i=this._wrapBlock(t,e);return i&&i.baseFeePerGas&&(s=BigInt("1000000000"),n=i.baseFeePerGas*$n+s),new zn.jW(r,n,s)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const e=new mn(r.url),n=await r.processFunc(t,this,e);return new zn.jW(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return es(t)&&(t=await t),(0,l.yT)(await this.#Se({method:"estimateGas",transaction:t}),"%response")}async#Oe(e,t,r){(0,n.hu)(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=(0,zn.kK)(e);try{return(0,c.Dv)(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(e){if(!this.disableCcipRead&&(0,n.Hl)(e)&&e.data&&r>=0&&"latest"===t&&null!=s.to&&"0x556f1830"===(0,c.QB)(e.data,0,4)){const i=e.data,o=await(0,a.ru)(s.to,this);let u;try{u=function(e){const t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,n.hu)((0,c.M5)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=(0,c.QB)(e,0,32);(0,n.hu)((0,c.QB)(r,0,12)===(0,c.QB)(ps,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,c.QB)(r,12);try{const r=[],n=(0,l.Dx)((0,c.QB)(e,32,64)),s=(0,l.Dx)((0,c.QB)(e,n,n+32)),i=(0,c.QB)(e,n+32);for(let e=0;e<s;e++){const t=cs(i,32*e);if(null==t)throw new Error("abort");r.push(t)}t.urls=r}catch(e){(0,n.hu)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=ls(e,64);if(null==r)throw new Error("abort");t.calldata=r}catch(e){(0,n.hu)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,n.hu)((0,c.QB)(e,100,128)===(0,c.QB)(ps,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,c.QB)(e,96,100);try{const r=ls(e,128);if(null==r)throw new Error("abort");t.extraData=r}catch(e){(0,n.hu)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((e=>t[e])),t}((0,c.QB)(e.data,4))}catch(e){(0,n.hu)(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:i}})}(0,n.hu)(u.sender.toLowerCase()===o.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:u.errorArgs}});const h=await this.ccipReadFetch(s,u.calldata,u.urls);(0,n.hu)(null!=h,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:e.data,errorArgs:u.errorArgs}});const d={to:o,data:(0,c.zo)([u.selector,fs([h,u.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const e=await this.#Oe(d,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:e}),e}}throw e}}async#Re(e){const{value:t}=await(0,u.m)({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:r}=await(0,u.m)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#Re(this.#Oe(t,r,e.enableCcipRead?0:-1))}async#De(e,t,r){let n=this._getAddress(t),s=this._getBlockTag(r);return"string"==typeof n&&"string"==typeof s||([n,s]=await Promise.all([n,s])),await this.#Re(this.#Se(Object.assign(e,{address:n,blockTag:s})))}async getBalance(e,t){return(0,l.yT)(await this.#De({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,l.Dx)(await this.#De({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,c.Dv)(await this.#De({method:"getCode"},e,t))}async getStorage(e,t,r){const n=(0,l.yT)(t,"position");return(0,c.Dv)(await this.#De({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:n}=await(0,u.m)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=sn.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,n).replaceableTransaction(t)}async#Be(e,t){if((0,c.A7)(e,32))return await this.#Se({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#Se({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){const{network:r,params:n}=await(0,u.m)({network:this.getNetwork(),params:this.#Be(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){const{network:t,params:r}=await(0,u.m)({network:this.getNetwork(),params:this.#Se({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await(0,u.m)({network:this.getNetwork(),params:this.#Se({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const t=await this.#Se({method:"getTransaction",hash:e});if(null==t)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await(0,u.m)({network:this.getNetwork(),result:this.#Se({method:"getTransactionResult",hash:e})});return null==t?null:(0,c.Dv)(t)}async getLogs(e){let t=this._getFilter(e);es(t)&&(t=await t);const{network:r,params:n}=await(0,u.m)({network:this.getNetwork(),params:this.#Se({method:"getLogs",filter:t})});return n.map((e=>this._wrapLog(e,r)))}_getProvider(e){(0,n.hu)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await kn.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){const t=_e((e=(0,i.K)(e)).substring(2).toLowerCase()+".addr.reverse");try{const r=await kn.getEnsAddress(this),n=new N.CH(r,["function resolver(bytes32) view returns (address)"],this),s=await n.resolver(t);if(null==s||s===I)return null;const i=new N.CH(s,["function name(bytes32) view returns (string)"],this),a=await i.name(t);return await this.resolveName(a)!==e?null:a}catch(e){if((0,n.VZ)(e,"BAD_DATA")&&"0x"===e.value)return null;if((0,n.VZ)(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,r){const s=null!=t?t:1;return 0===s?this.getTransactionReceipt(e):new Promise((async(t,i)=>{let a=null;const o=async r=>{try{const n=await this.getTransactionReceipt(e);if(null!=n&&r-n.blockNumber+1>=s)return t(n),void(a&&(clearTimeout(a),a=null))}catch(e){console.log("EEE",e)}this.once("block",o)};null!=r&&(a=setTimeout((()=>{null!=a&&(a=null,this.off("block",o),i((0,n.wf)("timeout","TIMEOUT",{reason:"timeout"})))}),r)),o(await this.getBlockNumber())}))}async waitForBlock(e){(0,n.hu)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#Ie.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#Ie.delete(e))}_setTimeout(e,t){null==t&&(t=0);const r=this.#Ce++,n=()=>{this.#Ie.delete(r),e()};if(this.paused)this.#Ie.set(r,{timer:null,func:n,time:t});else{const e=setTimeout(n,t);this.#Ie.set(r,{timer:e,func:n,time:is()})}return r}_forEachSubscriber(e){for(const t of this.#be.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new rs(e.type);case"block":{const e=new Zn(this);return e.pollingInterval=this.pollingInterval,e}case"event":return new Xn(this,e.filter);case"transaction":return new Wn(this,e.hash);case"orphan":return new Yn(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of this.#be.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#ve&&t.pause(this.#ve);break}}async#Le(e,t){let r=await ss(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await ss({orphan:"drop-log",log:t[0]},this)),this.#be.get(r.tag)||null}async#Ue(e){const t=await ss(e,this),r=t.tag;let n=this.#be.get(r);return n||(n={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#be.set(r,n)),n}async on(e,t){const r=await this.#Ue(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#ve&&r.subscriber.pause(this.#ve)),this}async once(e,t){const r=await this.#Ue(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#ve&&r.subscriber.pause(this.#ve)),this}async emit(e,...t){const r=await this.#Le(e,t);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const s=new An.Z(this,n?null:r,e);try{r.call(this,...t,s)}catch(e){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#be.delete(r.tag)),n>0}async listenerCount(e){if(e){const t=await this.#Le(e);return t?t.listeners.length:0}let t=0;for(const{listeners:e}of this.#be.values())t+=e.length;return t}async listeners(e){if(e){const t=await this.#Le(e);return t?t.listeners.map((({listener:e})=>e)):[]}let t=[];for(const{listeners:e}of this.#be.values())t=t.concat(e.map((({listener:e})=>e)));return t}async off(e,t){const r=await this.#Le(e);if(!r)return this;if(t){const e=r.listeners.map((({listener:e})=>e)).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#be.delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:n}=await this.#Ue(e);r&&n.stop(),this.#be.delete(t)}else for(const[e,{started:t,subscriber:r}]of this.#be)t&&r.stop(),this.#be.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#Ee}destroy(){this.removeAllListeners();for(const e of this.#Ie.keys())this._clearTimeout(e);this.#Ee=!0}get paused(){return null!=this.#ve}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#xe=-1,null!=this.#ve){if(this.#ve==!!e)return;(0,n.hu)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((t=>t.pause(e))),this.#ve=!!e;for(const e of this.#Ie.values())e.timer&&clearTimeout(e.timer),e.time=is()-e.time}resume(){if(null!=this.#ve){this._forEachSubscriber((e=>e.resume())),this.#ve=null;for(const e of this.#Ie.values()){let t=e.time;t<0&&(t=0),e.time=is(),setTimeout(e.func,t)}}}}function cs(e,t){try{const r=ls(e,t);if(r)return(0,C.ZN)(r)}catch(e){}return null}function ls(e,t){if("0x"===e)return null;try{const r=(0,l.Dx)((0,c.QB)(e,t,t+32)),n=(0,l.Dx)((0,c.QB)(e,r,r+32));return(0,c.QB)(e,r+32,r+32+n)}catch(e){}return null}function us(e){const t=(0,l.ot)(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function hs(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}const ds=new Uint8Array([]);function fs(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(ds),r+=32;for(let n=0;n<e.length;n++){const s=(0,c.Pw)(e[n]);t[n]=us(r),t.push(us(s.length)),t.push(hs(s)),r+=32+32*Math.ceil(s.length/32)}return(0,c.zo)(t)}const ps="0x0000000000000000000000000000000000000000000000000000000000000000";function gs(e,t){if(e.provider)return e.provider;(0,n.hu)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function ms(e,t){let r=(0,zn.kK)(t);if(null!=r.to&&(r.to=(0,a.ru)(r.to,e)),null!=r.from){const t=r.from;r.from=Promise.all([e.getAddress(),(0,a.ru)(t,e)]).then((([e,t])=>((0,n.en)(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e)))}else r.from=e.getAddress();return await(0,u.m)(r)}class ys{provider;constructor(e){(0,u.h)(this,{provider:e||null})}async getNonce(e){return gs(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await ms(this,e)}async populateTransaction(e){const t=gs(this,"populateTransaction"),r=await ms(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(null!=r.chainId){const t=(0,l.yT)(r.chainId);(0,n.en)(t===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!i?0!==r.type&&1!==r.type||!i||(0,n.en)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):(0,n.en)(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const e=await t.getFeeData();(0,n.hu)(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{const e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?((0,n.hu)(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):(0,n.hu)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else r.type=2;return await(0,u.m)(r)}async estimateGas(e){return gs(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return gs(this,"call").call(await this.populateCall(e))}async resolveName(e){const t=gs(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){const t=gs(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const n=sn.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}}class ws{#fe;#Fe;#pe;#we;#Me;#Ge;constructor(e){this.#fe=e,this.#Fe=null,this.#pe=this.#ye.bind(this),this.#we=!1,this.#Me=null,this.#Ge=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#ye(e){try{null==this.#Fe&&(this.#Fe=this._subscribe(this.#fe));let e=null;try{e=await this.#Fe}catch(e){if(!(0,n.VZ)(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e)return this.#Fe=null,void this.#fe._recoverSubscriber(this,this._recover(this.#fe));const t=await this.#fe.getNetwork();if(this.#Me||(this.#Me=t),this.#Me.chainId!==t.chainId)throw new Error("chaid changed");if(this.#Ge)return;const r=await this.#fe.send("eth_getFilterChanges",[e]);await this._emitResults(this.#fe,r)}catch(e){console.log("@TODO",e)}this.#fe.once("block",this.#pe)}#He(){const e=this.#Fe;e&&(this.#Fe=null,e.then((e=>{this.#fe.send("eth_uninstallFilter",[e])})))}start(){this.#we||(this.#we=!0,this.#ye(-2))}stop(){this.#we&&(this.#we=!1,this.#Ge=!0,this.#He(),this.#fe.off("block",this.#pe))}pause(e){e&&this.#He(),this.#fe.off("block",this.#pe)}resume(){this.start()}}class As extends ws{#qe;constructor(e,t){var r;super(e),this.#qe=(r=t,JSON.parse(JSON.stringify(r)))}_recover(e){return new Xn(e,this.#qe)}async _subscribe(e){return await e.send("eth_newFilter",[this.#qe])}async _emitResults(e,t){for(const r of t)e.emit(this.#qe,e._wrapLog(r,e._network))}}class bs extends ws{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const vs="bigint,boolean,function,number,string,symbol".split(/,/g);function Es(e){if(null==e||vs.indexOf(typeof e)>=0)return e;if("function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(Es);if("object"==typeof e)return Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),{});throw new Error(`should not happen: ${e} (${typeof e})`)}function Ps(e){return new Promise((t=>{setTimeout(t,e)}))}function Ts(e){return e?e.toLowerCase():e}function ks(e){return e&&"number"==typeof e.pollingInterval}const xs={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Cs extends ys{address;constructor(e,t){super(e),t=(0,i.K)(t),(0,u.h)(this,{address:t})}connect(e){(0,n.hu)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Es(e),r=[];if(t.from){const s=t.from;r.push((async()=>{const r=await(0,a.ru)(s,this.provider);(0,n.en)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){const e=t.to;r.push((async()=>{t.to=await(0,a.ru)(e,this.provider)})())}r.length&&await Promise.all(r);const s=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise(((e,n)=>{const s=[1e3,100],i=async()=>{const n=await this.provider.getTransaction(r);null==n?this.provider._setTimeout((()=>{i()}),s.pop()||4e3):e(n.replaceableTransaction(t))};i()}))}async signTransaction(e){const t=Es(e);if(t.from){const r=await(0,a.ru)(t.from,this.provider);(0,n.en)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;const r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){const t="string"==typeof e?(0,C.Y0)(e):e;return await this.provider.send("personal_sign",[(0,c.Dv)(t),this.address.toLowerCase()])}async signTypedData(e,t,r){const s=Es(r),i=await k.resolveNames(e,t,s,(async e=>{const t=await(0,a.ru)(e);return(0,n.en)(null!=t,"TypedData does not support null address","value",e),t}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(k.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t="string"==typeof e?(0,C.Y0)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,c.Dv)(t)])}}class Is extends os{#u;#je;#Qe;#Ve;#Ke;#Me;#ze(){if(this.#Ve)return;const e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#Ve=setTimeout((()=>{this.#Ve=null;const e=this.#Qe;for(this.#Qe=[];e.length;){const t=[e.shift()];for(;e.length&&t.length!==this.#u.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map((e=>e.payload))).length>this.#u.batchMaxSize){e.unshift(t.pop());break}(async()=>{const e=1===t.length?t[0].payload:t.map((e=>e.payload));this.emit("debug",{action:"sendRpcPayload",payload:e});try{const r=await this._send(e);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:e,reject:s,payload:i}of t){if(this.destroyed){s((0,n.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const t=r.filter((e=>e.id===i.id))[0];if(null!=t)"error"in t?s(this.getRpcError(i,t)):e(t.result);else{const e=(0,n.wf)("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",e),s(e)}}}catch(e){this.emit("debug",{action:"receiveRpcError",error:e});for(const{reject:r}of t)r(e)}})()}}),e)}constructor(e,t){super(e,t),this.#je=1,this.#u=Object.assign({},xs,t||{}),this.#Qe=[],this.#Ve=null,this.#Me=null;{let e=null;const t=new Promise((t=>{e=t}));this.#Ke={promise:t,resolve:e}}const r=this._getOption("staticNetwork");r&&((0,n.en)(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#Me=r)}_getOption(e){return this.#u[e]}get _network(){return(0,n.hu)(this.#Me,"network is not available yet","NETWORK_ERROR"),this.#Me}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&(0,l.yT)(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}const t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)return e;if(this.ready)return jn.from((0,l.yT)(await this.send("eth_chainId",[])));const t={id:this.#je++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let r;this.emit("debug",{action:"sendRpcPayload",payload:t});try{r=(await this._send(t))[0]}catch(e){throw this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:r}),"result"in r)return jn.from((0,l.yT)(r.result));throw this.getRpcError(t,r)}_start(){null!=this.#Ke&&null!=this.#Ke.resolve&&(this.#Ke.resolve(),this.#Ke=null,(async()=>{for(;null==this.#Me&&!this.destroyed;)try{this.#Me=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,n.wf)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await Ps(1e3)}this.#ze()})())}async _waitUntilReady(){if(null!=this.#Ke)return await this.#Ke.promise}_getSubscriber(e){return"pending"===e.type?new bs(this):"event"===e.type?this._getOption("polling")?new Xn(this,e.filter):new As(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new rs("orphan"):super._getSubscriber(e)}get ready(){return null==this.#Ke}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=(0,l.B4)((0,l.yT)(e[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=e[r]&&(t[r]=(0,c.Dv)(e[r]))})),e.accessList&&(t.accessList=(0,x.z)(e.accessList)),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ts(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ts(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ts(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ts(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Ts):e.filter.address=Ts(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:r}=e,{error:i}=t;if("eth_estimateGas"===r&&i.message){const t=i.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return(0,n.wf)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}})}if("eth_call"===r||"eth_estimateGas"===r){const t=Ss(i),n=s.R.getBuiltinCallException("eth_call"===r?"call":"estimateGas",e.params[0],t?t.data:null);return n.info={error:i,payload:e},n}const a=JSON.stringify(function(e){const t=[];return Bs(e,t),t}(i));if("string"==typeof i.message&&i.message.match(/user denied|ethers-user-denied/i)){const t={eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"};return(0,n.wf)("user rejected action","ACTION_REJECTED",{action:t[r]||"unknown",reason:"rejected",info:{payload:e,error:i}})}if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const t=e.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return(0,n.wf)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return(0,n.wf)("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return(0,n.wf)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:i}});if(a.match(/only replay-protected/i))return(0,n.wf)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:t,info:{error:i}}})}let o=!!a.match(/the method .* does not exist/i);return o||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(o=!0),o?(0,n.wf)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):(0,n.wf)("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,t){if(this.destroyed)return Promise.reject((0,n.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const r=this.#je++,s=new Promise(((n,s)=>{this.#Qe.push({resolve:n,reject:s,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})}));return this.#ze(),s}async getSigner(e){null==e&&(e=0);const t=this.send("eth_accounts",[]);if("number"==typeof e){const r=await t;if(e>=r.length)throw new Error("no such account");return new Cs(this,r[e])}const{accounts:r}=await(0,u.m)({network:this.getNetwork(),accounts:t});e=(0,i.K)(e);for(const t of r)if((0,i.K)(t)===e)return new Cs(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((e=>new Cs(this,e)))}destroy(){this.#Ve&&(clearTimeout(this.#Ve),this.#Ve=null);for(const{payload:e,reject:t}of this.#Qe)t((0,n.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#Qe=[],super.destroy()}}class Ns extends Is{#Je;constructor(e,t){super(e,t),this.#Je=4e3}_getSubscriber(e){const t=super._getSubscriber(e);return ks(t)&&(t.pollingInterval=this.#Je),t}get pollingInterval(){return this.#Je}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#Je=e,this._forEachSubscriber((e=>{ks(e)&&(e.pollingInterval=this.#Je)}))}}function Ss(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&(0,c.A7)(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(const t in e){const r=Ss(e[t]);if(r)return r}return null}if("string"==typeof e)try{return Ss(JSON.parse(e))}catch(e){}return null}function Bs(e,t){if(null!=e){if("string"==typeof e.message&&t.push(e.message),"object"==typeof e)for(const r in e)Bs(e[r],t);if("string"==typeof e)try{return Bs(JSON.parse(e),t)}catch(e){}}}class Os extends Ns{#se;constructor(e,t){super(t,{batchMaxCount:1}),this.#se=async(t,r)=>{const n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{const t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(e){const t=new Error(e.message);throw t.code=e.code,t.data=e.data,t.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:t}),t}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,n.en)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#se(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);const t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter((t=>t.toLowerCase()===e)).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#se("eth_requestAccounts",[])}catch(e){const t=e.payload;throw this.getRpcError(t,{id:t.id,error:e})}return await super.getSigner(e)}}},101:(e,t,r)=>{"use strict";r.d(t,{IX:()=>g,Mw:()=>m,Zb:()=>p,gO:()=>f,jW:()=>h,kK:()=>d});var n=r(857),s=r(455),i=r(229),a=r(470),o=r(891);const c=BigInt(0);function l(e){return null==e?null:e}function u(e){return null==e?null:e.toString()}class h{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){(0,n.h)(this,{gasPrice:l(e),maxFeePerGas:l(t),maxPriorityFeePerGas:l(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:u(e),maxFeePerGas:u(t),maxPriorityFeePerGas:u(r)}}}function d(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=(0,s.Dv)(e.data));const r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const n of r)n in e&&null!=e[n]&&(t[n]=(0,i.yT)(e[n],`request.${n}`));const n="type,nonce".split(/,/);for(const r of n)r in e&&null!=e[r]&&(t[r]=(0,i.Dx)(e[r],`request.${r}`));return e.accessList&&(t.accessList=(0,o.z)(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),t}class f{provider;number;hash;timestamp;parentHash;nonce;difficulty;gasLimit;gasUsed;miner;extraData;baseFeePerGas;#Ze;constructor(e,t){this.#Ze=e.transactions.map((e=>"string"!=typeof e?new m(e,t):e)),(0,n.h)(this,{provider:t,hash:l(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:l(e.baseFeePerGas)})}get transactions(){return this.#Ze.map((e=>"string"==typeof e?e:e.hash))}get prefetchedTransactions(){const e=this.#Ze.slice();return 0===e.length?[]:((0,a.hu)("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:s,hash:i,miner:a,nonce:o,number:c,parentHash:l,timestamp:h,transactions:d}=this;return{_type:"Block",baseFeePerGas:u(e),difficulty:u(t),extraData:r,gasLimit:u(n),gasUsed:u(s),hash:i,miner:a,nonce:o,number:c,parentHash:l,timestamp:h,transactions:d}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#Ze.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#Ze[e];else{const r=e.toLowerCase();for(const e of this.#Ze){if("string"==typeof e){if(e!==r)continue;t=e;break}if(e.hash!==r){t=e;break}}}if(null==t)throw new Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if("number"==typeof e)return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;(0,a.en)(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:this.hash,number:this.number}}}class p{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());(0,n.h)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:n,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:s,removed:i,topics:a,transactionHash:o,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return(0,a.hu)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return(0,a.hu)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return(0,a.hu)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(e=this).transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}};var e}}class g{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;cumulativeGasUsed;gasPrice;type;status;root;#_e;constructor(e,t){this.#_e=Object.freeze(e.logs.map((e=>new p(e,t))));let r=c;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),(0,n.h)(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:r,type:e.type,status:e.status,root:e.root})}get logs(){return this.#_e}toJSON(){const{to:e,from:t,contractAddress:r,hash:n,index:s,blockHash:i,blockNumber:a,logsBloom:o,logs:c,status:l,root:h}=this;return{_type:"TransactionReceipt",blockHash:i,blockNumber:a,contractAddress:r,cumulativeGasUsed:u(this.cumulativeGasUsed),from:t,gasPrice:u(this.gasPrice),gasUsed:u(this.gasUsed),hash:n,index:s,logs:c,logsBloom:o,root:h,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(null==e)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(null==e)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return w(this)}reorderedEvent(e){return(0,a.hu)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),y(this,e)}}class m{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;data;value;chainId;signature;accessList;#Ye;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.#Ye=-1}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:n,type:s,to:i,from:a,nonce:o,data:c,signature:l,accessList:h}=this;return{_type:"TransactionReceipt",accessList:h,blockNumber:e,blockHash:t,chainId:u(this.chainId),data:c,from:a,gasLimit:u(this.gasLimit),gasPrice:u(this.gasPrice),hash:n,maxFeePerGas:u(this.maxFeePerGas),maxPriorityFeePerGas:u(this.maxPriorityFeePerGas),nonce:o,signature:l,to:i,index:r,type:s,value:u(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){const t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;const t=this.provider.getBlock(e);if(null==t)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:e,blockNumber:t}=await(0,n.m)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=null==e?1:e,s=null==t?0:t;let i=this.#Ye,o=-1,l=-1===i;const u=async()=>{if(l)return null;const{blockNumber:e,nonce:t}=await(0,n.m)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce)return void(i=e);if(l)return null;const s=await this.getTransaction();if(!s||null==s.blockNumber)for(-1===o&&(o=i-3,o<this.#Ye&&(o=this.#Ye));o<=e;){if(l)return null;const t=await this.provider.getBlock(o,!0);if(null==t)return;for(const e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){const s=await t.getTransaction(n);if(s.from===this.from&&s.nonce===this.nonce){if(l)return null;const t=await this.provider.getTransactionReceipt(s.hash);if(null==t)return;if(e-t.blockNumber+1<r)return;let n="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?n="repriced":"0x"===s.data&&s.from===s.to&&s.value===c&&(n="cancelled"),(0,a.hu)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:t})}}o++}},h=e=>{if(null==e||0!==e.status)return e;(0,a.hu)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},d=await this.provider.getTransactionReceipt(this.hash);if(0===r)return h(d);if(d){if(await d.confirmations()>=r)return h(d)}else if(await u(),0===r)return null;const f=new Promise(((e,t)=>{const n=[],o=()=>{n.forEach((e=>e()))};if(n.push((()=>{l=!0})),s>0){const e=setTimeout((()=>{o(),t((0,a.wf)("wait for transaction timeout","TIMEOUT"))}),s);n.push((()=>{clearTimeout(e)}))}const c=async n=>{if(await n.confirmations()>=r){o();try{e(h(n))}catch(e){t(e)}}};if(n.push((()=>{this.provider.off(this.hash,c)})),this.provider.on(this.hash,c),i>=0){const e=async()=>{try{await u()}catch(e){if((0,a.VZ)(e,"TRANSACTION_REPLACED"))return o(),void t(e)}l||this.provider.once("block",e)};n.push((()=>{this.provider.off("block",e)})),this.provider.once("block",e)}}));return await f}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}removedEvent(){return(0,a.hu)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),w(this)}reorderedEvent(e){return(0,a.hu)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,a.hu)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),y(this,e)}replaceableTransaction(e){(0,a.en)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new m(this,this.provider);return t.#Ye=e,t}}function y(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function w(e){return{orphan:"drop-transaction",tx:e}}},891:(e,t,r)=>{"use strict";r.d(t,{z:()=>o});var n=r(556),s=r(470),i=r(455);function a(e,t){return{address:(0,n.K)(e),storageKeys:t.map(((e,t)=>((0,s.en)((0,i.A7)(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase())))}}function o(e){if(Array.isArray(e))return e.map(((t,r)=>Array.isArray(t)?((0,s.en)(2===t.length,"invalid slot set",`value[${r}]`,t),a(t[0],t[1])):((0,s.en)(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),a(t.address,t.storageKeys))));(0,s.en)(null!=e&&"object"==typeof e,"invalid access list","value",e);const t=Object.keys(e).map((t=>{const r=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return a(t,Object.keys(r).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}},455:(e,t,r)=>{"use strict";r.d(t,{A7:()=>o,Dv:()=>u,M5:()=>d,Pw:()=>i,QB:()=>f,SK:()=>m,U3:()=>g,Zq:()=>c,h_:()=>a,zo:()=>h});var n=r(470);function s(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x([0-9a-f][0-9a-f])*$/i)){const t=new Uint8Array((e.length-2)/2);let r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}(0,n.en)(!1,"invalid BytesLike value",t||"value",e)}function i(e,t){return s(e,t,!1)}function a(e,t){return s(e,t,!0)}function o(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/)||"number"==typeof t&&e.length!==2+2*t||!0===t&&e.length%2!=0)}function c(e){return o(e,!0)||e instanceof Uint8Array}const l="0123456789abcdef";function u(e){const t=i(e);let r="0x";for(let e=0;e<t.length;e++){const n=t[e];r+=l[(240&n)>>4]+l[15&n]}return r}function h(e){return"0x"+e.map((e=>u(e).substring(2))).join("")}function d(e){return o(e,!0)?(e.length-2)/2:i(e).length}function f(e,t,r){const s=i(e);return null!=r&&r>s.length&&(0,n.hu)(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:s,length:s.length,offset:r}),u(s.slice(null==t?0:t,null==r?s.length:r))}function p(e,t,r){const s=i(e);(0,n.hu)(t>=s.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(s),length:t,offset:t+1});const a=new Uint8Array(t);return a.fill(0),r?a.set(s,t-s.length):a.set(s,0),u(a)}function g(e,t){return p(e,t,!0)}function m(e,t){return p(e,t,!1)}},470:(e,t,r)=>{"use strict";r.d(t,{hu:()=>l,en:()=>u,fG:()=>h,fA:()=>f,NK:()=>p,Hl:()=>o,VZ:()=>a,wf:()=>c});const n="6.7.1";var s=r(857);function i(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(i).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return i(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map((t=>`${i(t)}: ${i(e[t])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function a(e,t){return e&&e.code===t}function o(e){return a(e,"CALL_EXCEPTION")}function c(e,t,r){{const s=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${i(r)}`);for(const e in r){const t=r[e];s.push(e+"="+i(t))}}s.push(`code=${t}`),s.push(`version=${n}`),s.length&&(e+=" ("+s.join(", ")+")")}let a;switch(t){case"INVALID_ARGUMENT":a=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":a=new RangeError(e);break;default:a=new Error(e)}return(0,s.h)(a,{code:t}),r&&Object.assign(a,r),a}function l(e,t,r,n){if(!e)throw c(t,r,n)}function u(e,t,r,n){l(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function h(e,t,r){null==r&&(r=""),r&&(r=": "+r),l(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),l(e<=t,"too many arguemnts"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}const d=["NFD","NFC","NFKD","NFKC"].reduce(((e,t)=>{try{if("test"!=="test".normalize(t))throw new Error("bad");if("NFD"===t){if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken")}e.push(t)}catch(e){}return e}),[]);function f(e){l(d.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function p(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),l(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}},539:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(857);class s{filter;emitter;#We;constructor(e,t,r){this.#We=t,(0,n.h)(this,{emitter:e,filter:r})}async removeListener(){null!=this.#We&&await this.emitter.off(this.filter,this.#We)}}},229:(e,t,r)=>{"use strict";r.d(t,{$j:()=>l,B4:()=>A,Dx:()=>g,Gh:()=>p,He:()=>m,_Y:()=>c,m9:()=>y,ot:()=>w,sS:()=>u,yT:()=>h});var n=r(455),s=r(470);const i=BigInt(0),a=BigInt(1),o=9007199254740991;function c(e,t){const r=d(e,"value"),n=BigInt(g(t,"width"));return(0,s.hu)(r>>n===i,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-a?-((~r&(a<<n)-a)+a):r}function l(e,t){let r=h(e,"value");const n=BigInt(g(t,"width")),o=a<<n-a;return r<i?(r=-r,(0,s.hu)(r<=o,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(a<<n)-a)+a):((0,s.hu)(r<o,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function u(e,t){const r=d(e,"value"),n=BigInt(g(t,"bits"));return r&(a<<n)-a}function h(e,t){switch(typeof e){case"bigint":return e;case"number":return(0,s.en)(Number.isInteger(e),"underflow",t||"value",e),(0,s.en)(e>=-o&&e<=o,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw new Error("empty string");return"-"===e[0]&&"-"!==e[1]?-BigInt(e.substring(1)):BigInt(e)}catch(r){(0,s.en)(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}(0,s.en)(!1,"invalid BigNumberish value",t||"value",e)}function d(e,t){const r=h(e,t);return(0,s.hu)(r>=i,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}const f="0123456789abcdef";function p(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=f[r>>4],t+=f[15&r];return BigInt(t)}return h(e)}function g(e,t){switch(typeof e){case"bigint":return(0,s.en)(e>=-o&&e<=o,"overflow",t||"value",e),Number(e);case"number":return(0,s.en)(Number.isInteger(e),"underflow",t||"value",e),(0,s.en)(e>=-o&&e<=o,"overflow",t||"value",e),e;case"string":try{if(""===e)throw new Error("empty string");return g(BigInt(e),t)}catch(r){(0,s.en)(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}(0,s.en)(!1,"invalid numeric value",t||"value",e)}function m(e){return g(p(e))}function y(e,t){let r=d(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{const n=g(t,"width");for((0,s.hu)(2*n>=r.length,`value exceeds width (${n} bits)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function w(e){const t=d(e,"value");if(t===i)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){const t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}function A(e){let t=(0,n.Dv)((0,n.Zq)(e)?e:w(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}},857:(e,t,r)=>{"use strict";function n(e,t,r){const n=t.split("|").map((e=>e.trim()));for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const s=new Error(`invalid value for type ${t}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${r}`,s.value=e,s}async function s(e){const t=Object.keys(e);return(await Promise.all(t.map((t=>Promise.resolve(e[t]))))).reduce(((e,r,n)=>(e[t[n]]=r,e)),{})}function i(e,t,r){for(let s in t){let i=t[s];const a=r?r[s]:null;a&&n(i,a,s),Object.defineProperty(e,s,{enumerable:!0,value:i,writable:!1})}}r.d(t,{h:()=>i,m:()=>s})},155:(e,t,r)=>{"use strict";r.d(t,{Y0:()=>o,ZN:()=>c});var n=r(455),s=r(470);function i(e,t,r,n,s){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}const a=Object.freeze({error:function(e,t,r,n,i){(0,s.en)(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:i,replace:function(e,t,r,n,a){return"OVERLONG"===e?((0,s.en)("number"==typeof a,"invalid bad code point for replacement","badCodepoint",a),n.push(a),0):(n.push(65533),i(e,t,r))}});function o(e,t){null!=t&&((0,s.fA)(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const i=e.charCodeAt(t);(0,s.en)(t<e.length&&56320==(64512&i),"invalid surrogate pair","str",e);const a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function c(e,t){return function(e,t){null==t&&(t=a.error);const r=(0,n.Pw)(e,"bytes"),s=[];let i=0;for(;i<r.length;){const e=r[i++];if(e>>7==0){s.push(e);continue}let n=null,a=null;if(192==(224&e))n=1,a=127;else if(224==(240&e))n=2,a=2047;else{if(240!=(248&e)){i+=t(128==(192&e)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,r,s);continue}n=3,a=65535}if(i-1+n>=r.length){i+=t("OVERRUN",i-1,r,s);continue}let o=e&(1<<8-n-1)-1;for(let e=0;e<n;e++){let e=r[i];if(128!=(192&e)){i+=t("MISSING_CONTINUE",i,r,s),o=null;break}o=o<<6|63&e,i++}null!==o&&(o>1114111?i+=t("OUT_OF_RANGE",i-1-n,r,s,o):o>=55296&&o<=57343?i+=t("UTF16_SURROGATE",i-1-n,r,s,o):o<=a?i+=t("OVERLONG",i-1-n,r,s,o):s.push(o))}return s}(e,t).map((e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e))))).join("")}}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return a[e](r,r.exports,c),r.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},c.a=(s,i,a)=>{var o;a&&((o=[]).d=-1);var c,l,u,h=new Set,d=s.exports,f=new Promise(((e,t)=>{u=t,l=e}));f[t]=d,f[e]=e=>(o&&e(o),h.forEach(e),f.catch((e=>{}))),s.exports=f,i((s=>{var i;c=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[e])return s;if(s.then){var i=[];i.d=0,s.then((e=>{a[t]=e,n(i)}),(e=>{a[r]=e,n(i)}));var a={};return a[e]=e=>e(i),a}}var o={};return o[e]=e=>{},o[t]=s,o})))(s);var a=()=>c.map((e=>{if(e[r])throw e[r];return e[t]})),l=new Promise((t=>{(i=()=>t(a)).r=0;var r=e=>e!==o&&!h.has(e)&&(h.add(e),e&&!e.d&&(i.r++,e.push(i)));c.map((t=>t[e](r)))}));return i.r?l:a()}),(e=>(e?u(f[r]=e):l(d),n(o)))),o&&o.d<0&&(o.d=0)},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);c.r(r);var n={};s=s||[null,i({}),i([]),i(i)];for(var a=2&t&&e;"object"==typeof a&&!~s.indexOf(a);a=i(a))Object.getOwnPropertyNames(a).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,c.d(r,n),r},c.d=(e,t)=>{for(var r in t)c.o(t,r)&&!c.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c(181)})();